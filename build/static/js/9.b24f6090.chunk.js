(this.webpackJsonpopl_frontend=this.webpackJsonpopl_frontend||[]).push([[9,5],{168:function(t,e,n){"use strict";var r=n(60),o=n(12),c=n(13),a=n(14),s=n(15),i=n(61),u=n.n(i),l=n(0),p=n.n(l),h=n(409),d=n(25),f=n(64),b=n(81),j=n(111),y=n(110),m=n(3),_=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={startDate:new Date(t.props.sales_date.start_date),endDate:new Date(t.props.sales_date.end_date),key:"selection",date:!0,cost:!1},t.handleSelect=function(){var e=Object(r.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({startDate:n.selection.startDate,endDate:n.selection.endDate}),r={start_date:n.selection.startDate,end_date:n.selection.endDate},e.next=4,t.props.UPDATE_GET_SALES_LIST_ACTION();case 4:return e.next=6,t.props.UPDATE_SALES_DATE_ACTION(r);case 6:return e.next=8,t.props.GET_SALES_LIST_ACTION(r.start_date,r.end_date);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state.startDate,e=this.state.endDate;return Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"sales-top",children:Object(m.jsx)(y.a,{trigger:Object(m.jsx)(h.a,{className:"input-dates",size:"sm",children:Object(m.jsxs)("div",{className:"input-display",children:[Object(m.jsx)("span",{children:Object(m.jsx)(b.b,{color:"#D04D30",size:18})}),t.toDateString()," - ",e.toDateString(),Object(m.jsx)("span",{children:Object(m.jsx)(b.e,{size:18})})]})}),position:"bottom",children:Object(m.jsx)(j.DateRangePicker,{onChange:this.handleSelect,showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:[this.state],direction:"horizontal",preventSnapRefocus:!0,calendarFocus:"backwards",className:"date-range"})})})})}}]),n}(p.a.Component);_.getDerivedStateFromProps=function(t,e){return e.startDate=new Date(t.sales_date.start_date),e.endDate=new Date(t.sales_date.end_date),e};var O={UPDATE_SALES_DATE_ACTION:f.N,UPDATE_GET_SALES_LIST_ACTION:f.J,GET_SALES_LIST_ACTION:f.p};e.a=Object(d.b)((function(t){var e={start_date:new Date(2022,3,20),end_date:new Date(2022,3,30)};return{sales_date:t.update_reducer.sales_date?t.update_reducer.sales_date:e,depots:t.list_reducer.depot_list}}),O)(_)},172:function(t,e,n){"use strict";var r=n(60),o=n(12),c=n(13),a=n(14),s=n(15),i=n(61),u=n.n(i),l=n(0),p=n.n(l),h=n(405),d=n(413),f=n(283),b=n(409),j=n(298),y=n(25),m=n(64),_=n(26),O=n(191),g=n.n(O),x=n(123),v=n(3),w=g.a.ExcelFile,C=g.a.ExcelFile.ExcelSheet,k=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)(w,{element:Object(v.jsxs)(b.a,{variant:"secondary",size:"sm",style:{fontSize:10},children:[Object(v.jsx)(x.a,{color:"green",size:25})," Export"]}),children:Object(v.jsx)(C,{dataSet:this.props.dataset,name:"Organization"})})})}}]),n}(l.Component),T=k,D=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={sales_list:void 0!==t.props.sales_list?t.props.sales_list:[],sales_date:t.props.sales_date,depot:"All",product:"All",order_no:null,active:1,spinner:!1,success:!0,delete_order:null},t.onSearchChange=function(e){var n=t.state.active,r=50*(n-1),o=50*n;""===e||void 0===e||null===e?t.setState({sales_list:t.props.sales_list.slice(r,o)}):t.setState({order_no:e})},t.onSearch=function(e){e.preventDefault();var n=t.state.order_no,r=t.props.sales_list;r=r.filter((function(t){return t.order_no.includes(n)})),t.setState({sales_list:r,product:"All",depot:"All"})},t.handleCalc=function(){for(var e=t.state.sales_list,n=0,r=0,o=0;o<e.length;o++){var c=e[o];n+=c.vol_obs,r+=c.vol_obs*c.selling_price}return[r,n]},t.handleProductChange=function(){var e=Object(r.a)(u.a.mark((function e(n){var r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.props.sales_list,"All"!==n&&(r=r.filter((function(t){return t.product.name===n}))),"All"!==t.state.depot&&(o=t.props.depots[parseInt(t.state.depot)].name,r=r.filter((function(t){return t.depot.name===o}))),t.setState({sales_list:r,product:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.handleDepotChange=function(e){var n=t.props.sales_list;if("All"!==e){var r=t.props.depots[parseInt(e)].name;n=n.filter((function(t){return t.depot.name===r}))}var o=t.state.product;console.log(o),"All"!==o&&(n=n.filter((function(t){return t.product.name===o}))),t.setState({sales_list:n,depot:e})},t.formatData=function(){for(var e=t.state.sales_list,n=[],r=0;r<e.length;r++){var o=e[r];n.push([{value:o.date,style:{fill:{patternType:"solid",fgColor:{rgb:"B4C6E7"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:o.depot.name,style:{fill:{patternType:"solid",fgColor:{rgb:"B4C6E7"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:o.product.name,style:{fill:{patternType:"solid",fgColor:{rgb:"B4C6E7"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:o.customer.name,style:{fill:{patternType:"solid",fgColor:{rgb:"7B7B7B"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:null===o.truck.plate_no?"":o.truck.plate_no,style:{fill:{patternType:"solid",fgColor:{rgb:"7B7B7B"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:null===o.truck.driver?"":o.truck.driver,style:{fill:{patternType:"solid",fgColor:{rgb:"7B7B7B"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:null===o.order_no?"":o.order_no,style:{fill:{patternType:"solid",fgColor:{rgb:"A9D08E"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:null===o.entry_no?"":o.entry_no,style:{fill:{patternType:"solid",fgColor:{rgb:"A9D08E"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:null===o.lpo_no?"":o.lpo_no,style:{fill:{patternType:"solid",fgColor:{rgb:"A9D08E"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:o.vol_obs,style:{fill:{patternType:"solid",fgColor:{rgb:"F8CBAD"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:null===o.vol_20?0:o.vol_20,style:{fill:{patternType:"solid",fgColor:{rgb:"F8CBAD"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:parseFloat(o.selling_price),style:{fill:{patternType:"solid",fgColor:{rgb:"F8CBAD"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}},alignment:{horizontal:"right"}}},{value:parseFloat(o.vol_obs*o.selling_price),style:{fill:{patternType:"solid",fgColor:{rgb:"00B050"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}},alignment:{horizontal:"right"}}},{value:o.is_paid,style:{fill:{patternType:"solid",fgColor:{rgb:"A9D08E"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}}])}return[{columns:[{title:"DATE",width:{wpx:80},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"DEPOT",width:{wpx:100},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"PRODUCT",width:{wpx:80},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"CUSTOMER",width:{wpx:180},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"TRUCK",width:{wpx:100},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"DRIVER",width:{wpx:150},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"ORDER NO",width:{wpx:100},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"ENTRY NO",width:{wpx:150},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"LPO NO",width:{wpx:120},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"VOL OBS",width:{wpx:80},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"VOL 20",width:{wpx:80},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"SELLING PRICE",width:{wpx:100},height:{wpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"AMOUNT",width:{wpx:100},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"PAID",width:{wpx:50},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}}],data:n}]},t}return Object(c.a)(n,[{key:"numberWithCommas",value:function(t){try{return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}catch(e){return t}}},{key:"render",value:function(){for(var t=this,e=[],n=this.state.active,r=50*(n-1),o=50*n,c=function(r){e.push(Object(v.jsx)(h.a.Item,{active:r===n,onClick:function(){return t.setState({active:r})},children:r},r))},a=1;a<=Math.ceil(this.state.sales_list.length/50);a++)c(a);var s=this.props,i=s.depots,u=s.products,l=this.handleCalc(),p=this.formatData();return Object(v.jsx)("div",{children:this.state.spinner?Object(v.jsx)(_.a,{spinner:this.state.spinner}):Object(v.jsxs)("div",{className:"sale-table",children:[Object(v.jsx)("div",{className:"sale-table__header",children:Object(v.jsxs)(d.a,{className:"d-flex",style:{alignItems:"flex-end"},onSubmit:this.onSearch,children:[Object(v.jsx)(T,{dataset:p}),Object(v.jsxs)(d.a.Group,{className:"mb-4 pie-select__child sale-table__select",controlId:"exampleForm.ControlInput1",style:{marginBottom:0},children:[Object(v.jsx)(d.a.Label,{children:"Depot"}),Object(v.jsxs)(d.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleDepotChange(e.target.value)},children:["All"===this.state.depot?null:Object(v.jsx)("option",{value:this.state.depot,children:i[parseInt(this.state.depot)].name}),Object(v.jsx)("option",{value:"All",children:"All"}),i.map((function(e,n){return t.state.depot===n?null:Object(v.jsx)("option",{value:n,children:e.name},n)}))]})]}),Object(v.jsxs)(d.a.Group,{className:"mb-4 pie-select__child sale-table__select",controlId:"exampleForm.ControlInput1",style:{marginBottom:0},children:[Object(v.jsx)(d.a.Label,{children:"Product"}),Object(v.jsxs)(d.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleProductChange(e.target.value)},children:["All"===this.state.product?null:Object(v.jsx)("option",{value:this.state.product,children:this.state.product}),Object(v.jsx)("option",{value:"All",children:"All"}),u.map((function(e,n){return t.state.product===e.name?null:Object(v.jsx)("option",{value:e.name,children:e.name},n)}))]})]}),Object(v.jsx)(f.a,{type:"search",placeholder:"Search by order no.",className:"me-2 sales-table__search-input","aria-label":"Search by order no.",size:"sm",onChange:function(e){return t.onSearchChange(e.target.value)}}),Object(v.jsx)(b.a,{variant:"outline-primary",type:"submit",children:"Search"})]})}),Object(v.jsxs)(j.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{}),Object(v.jsx)("th",{children:"Date"}),this.props.from_customer?null:Object(v.jsx)("th",{children:"Depot"}),Object(v.jsx)("th",{children:"Product"}),this.props.from_customer?null:Object(v.jsx)("th",{children:"Customer"}),Object(v.jsx)("th",{children:"Truck"}),Object(v.jsx)("th",{children:"Driver"}),Object(v.jsx)("th",{children:"Order No"}),Object(v.jsx)("th",{children:"Lpo No"}),Object(v.jsx)("th",{children:"Entry No"}),Object(v.jsx)("th",{children:"S.Price"}),Object(v.jsx)("th",{children:"OBS Vol"}),Object(v.jsx)("th",{children:"Vol@20"}),Object(v.jsx)("th",{children:"Amount"}),Object(v.jsx)("th",{children:"Paid"})]})}),Object(v.jsxs)("tbody",{children:[this.state.sales_list.slice(r,o).map((function(e,n){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:r+n+1}),Object(v.jsx)("td",{children:e.date}),t.props.from_customer?null:Object(v.jsx)("td",{children:e.depot.name}),Object(v.jsx)("td",{children:e.product.name}),t.props.from_customer?null:Object(v.jsx)("td",{children:e.customer.name}),Object(v.jsx)("td",{children:e.truck.plate_no}),Object(v.jsx)("td",{children:e.truck.driver}),Object(v.jsx)("td",{children:e.order_no}),Object(v.jsx)("td",{children:e.lpo_no}),Object(v.jsx)("td",{children:e.entry_no}),Object(v.jsx)("td",{children:e.selling_price}),Object(v.jsx)("td",{children:t.numberWithCommas(e.vol_obs)}),Object(v.jsx)("td",{children:t.numberWithCommas(e.vol_20)}),Object(v.jsx)("td",{children:t.numberWithCommas(e.vol_obs*e.selling_price)}),Object(v.jsx)("td",{children:e.is_paid?"True":"False"})]},n)})),Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{}),Object(v.jsx)("th",{children:"Totals"}),Object(v.jsx)("th",{}),Object(v.jsx)("th",{}),this.props.from_customer?null:Object(v.jsx)("th",{}),this.props.from_customer?null:Object(v.jsx)("th",{}),Object(v.jsx)("th",{}),Object(v.jsx)("th",{}),Object(v.jsx)("th",{}),Object(v.jsx)("th",{}),Object(v.jsx)("th",{}),Object(v.jsxs)("th",{children:["Kshs. ",this.numberWithCommas(l[1])]}),Object(v.jsx)("th",{}),Object(v.jsxs)("th",{children:["Kshs. ",this.numberWithCommas(l[0])]}),Object(v.jsx)("th",{})]})]})]}),Object(v.jsx)("div",{children:Object(v.jsx)(h.a,{size:"sm",children:e})})]})})}}]),n}(p.a.Component);D.getDerivedStateFromProps=function(t,e){return e.success=!0,e};var S={GET_SALES_LIST_ACTION:m.p};e.a=Object(y.b)((function(t){var e={start_date:new Date(2022,1,20),end_date:new Date(2022,1,28)};return{sales_date:t.update_reducer.sales_date?t.update_reducer.sales_date:e,update_get_sales_list:t.list_reducer.update_get_sales_list,depots:t.list_reducer.depot_list,products:t.list_reducer.product_list}}),S)(D)},210:function(t,e){},211:function(t,e){},221:function(t,e){},222:function(t,e){},242:function(t,e){},244:function(t,e){},245:function(t,e){},246:function(t,e){},247:function(t,e){},255:function(t,e){},261:function(t,e){},264:function(t,e){},416:function(t,e,n){"use strict";n.r(e);var r=n(60),o=n(12),c=n(13),a=n(14),s=n(15),i=n(61),u=n.n(i),l=n(0),p=n.n(l),h=n(25),d=n(281),f=n(282),b=n(413),j=n(283),y=n(409),m=n(2),_=n(91),O=n(64),g=n(298),x=n(3),v=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),a=0;a<r;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={info:[]},t.total=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!0===e?t.reduce((function(t,e){return t+e.count}),0):t.reduce((function(t,e){return t+e.sum}),0)},t}return Object(c.a)(n,[{key:"numberWithCommas",value:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"render",value:function(){return Object(x.jsxs)("div",{className:"customer-content__header",children:[Object(x.jsx)("h5",{className:"customer-content__header__name",children:this.props.name}),Object(x.jsx)("div",{className:"customer-info",children:Object(x.jsxs)(g.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Total Sales"}),Object(x.jsx)("th",{children:"Total Amount"})]})}),Object(x.jsx)("tbody",{children:void 0===this.state.info?Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:"0"}),Object(x.jsx)("td",{children:"0"})]}):Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:this.total(this.state.info.months,!0)}),Object(x.jsx)("td",{children:this.numberWithCommas(this.total(this.state.info.months))})]})})]})})]})}}]),n}(p.a.Component);v.getDerivedStateFromProps=function(t,e){var n=t.customer.filter((function(e){return e.year===parseInt(t.customer_year)}));return e.info=n[0],e};var w=Object(h.b)((function(t){return{}}),{})(v),C=n(26),k=n(88),T=n.n(k),D=n(76),S=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){var r;return Object(o.a)(this,n),(r=e.call(this,t)).state={series:[],options:{chart:{type:"bar",height:350},title:{text:"Monthly Sale Comparison"},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{title:{text:"Months"},categories:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"]},yaxis:{title:{text:r.props.dashboard_metric?"Kshs (Millions)":"Litres"}},fill:{opacity:1},tooltip:{y:{formatter:r.props.dashboard_metric?function(t){return"Kshs "+t+" Million"}:function(t){return t+" Litres"}}}}},r}return Object(c.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{id:"chart",children:Object(x.jsx)(T.a,{options:this.state.options,series:this.state.series,type:"bar",height:350})})}}]),n}(p.a.Component);S.getDerivedStateFromProps=function(t,e){var n=void 0!==t.customer?function(t,e,n){if(void 0===t||null===t||t===[])return null;var r=t.filter((function(t){return t.year===parseInt(e)})),o=new Array(12).fill(0);for(var c in t=r.length>0?r[0].months:[]){var a=t[c];o[a.date__month-1]="Million"===n?Object(D.c)(a.sum/1e7):Object(D.c)(a.sum/1e3)}return o}(t.customer,t.customer_year,t.currency_type):null,r=[{name:t.dashboard_metric?"Revenue":"Quantity",data:null===n?[]:n}];return e.series=r,e.options.yaxis.title.text=t.dashboard_metric?"Customer Revenue":"Customer Quantity",e};var A=Object(h.b)((function(t){return{}}),{})(S),N=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={year:t.props.customer_year},t.handleYearChange=function(){var e=Object(r.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.UPDATE_CUSTOMER_YEAR_ACTION(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(x.jsx)("div",{className:"pie-select",children:Object(x.jsxs)(b.a.Group,{className:"mb-4 pie-select__child",controlId:"exampleForm.ControlInput1",children:[Object(x.jsx)(b.a.Label,{children:"Year"}),Object(x.jsxs)(b.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleYearChange(e.target.value)},children:[Object(x.jsx)("option",{children:this.state.year}),[2022,2021].map((function(e,n){return parseInt(t.state.year)===e?null:Object(x.jsx)("option",{value:e,children:e},n)}))]})]})})}}]),n}(p.a.Component);N.getDerivedStateFromProps=function(t,e){return e.year=parseInt(t.customer_year),e};var E={UPDATE_CUSTOMER_YEAR_ACTION:O.w},I=Object(h.b)((function(t){return{customer_year:t.update_reducer.customer_year}}),E)(N),P=n(168),F=n(172),L=function(t,e){return t=t.filter((function(t){return t.customer.name===e.name}))},M=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(o.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={redirect:!1,spinner:!1,customer_spinner:!1,didnt_load:!1,customer_list:t.props.customer_list?t.props.customer_list:[],customer:t.props.customer_list?t.props.customer_list[0]:null,customer_name:null,customer_id:null,dashboard_metric:t.props.dashboard_metric,currency_type:t.props.currency_type,customer_year:t.props.customer_year,sales:[]},t.onSearchChange=function(e){""===e||void 0===e||null===e?t.setState({customer_list:t.props.customer_list}):t.setState({customer_name:e})},t.onSearch=function(e){e.preventDefault();var n=t.state.customer_name,r=t.props.customer_list;r=r.filter((function(t){return t.name.toLowerCase().includes(n.toLowerCase())})),t.setState({customer_list:r})},t.onClick=function(){var e=Object(r.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=(r=t.state.customer_list).filter((function(t){return t.id===parseInt(n)}))).length>0)){e.next=7;break}return e.next=5,t.setState({customer_id:r[0].id,customer_spinner:!0});case 5:return e.next=7,t.props.GET_CUSTOMER_DETAIL_ACTION(r[0].id);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.componentDidMount=Object(r.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({spinner:!0}),e.next=3,t.props.UPDATE_CUSTOMER_YEAR_ACTION((new Date).getFullYear());case 3:case"end":return e.stop()}}),e)}))),t}return Object(c.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.spinner,r=e.customer_year,o=null;try{o=this.state.dashboard_metric?this.state.customer.revenue:this.state.customer.quantity}catch(c){}return this.state.redirect?Object(x.jsx)(m.a,{to:"/login"}):Object(x.jsxs)(_.a,{header_title:"CUSTOMERS",children:[n||void 0===this.props.customer_list||void 0===this.props.customer_detail?Object(x.jsx)(C.a,{spinner:n}):null,void 0!==this.props.customer_list?Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:Object(x.jsx)(I,{})}),Object(x.jsxs)(d.a,{children:[Object(x.jsx)(f.a,{xs:3,children:Object(x.jsxs)("div",{className:"customer-side chart-area",children:[Object(x.jsx)("h6",{children:"Pick a customer"}),Object(x.jsxs)(b.a,{className:"d-flex",onSubmit:this.onSearch,children:[Object(x.jsx)(j.a,{type:"search",placeholder:"Search",className:"me-2","aria-label":"Search",size:"sm",onChange:function(e){return t.onSearchChange(e.target.value)}}),Object(x.jsx)(y.a,{type:"submit",variant:"outline-primary",size:"sm",children:"Search"})]}),Object(x.jsx)("div",{children:this.state.customer_list.map((function(e,n){return Object(x.jsx)("div",{className:"customer-side__scroll",children:t.state.customer_id===e.id?Object(x.jsx)(y.a,{className:"customer-side__customer customer-side__active",variant:"transparent",onClick:function(){return t.onClick(e.id)},children:Object(x.jsxs)("div",{className:"customer-side__info",children:[Object(x.jsx)("div",{className:"customer-side__profile"}),Object(x.jsx)("div",{children:Object(x.jsx)("h6",{className:"customer-side__name",children:e.name})})]})}):Object(x.jsx)(y.a,{className:"customer-side__customer",variant:"transparent",onClick:function(){return t.onClick(e.id)},children:Object(x.jsxs)("div",{className:"customer-side__info",children:[Object(x.jsx)("div",{className:"customer-side__profile"}),Object(x.jsx)("div",{children:Object(x.jsx)("h6",{className:"customer-side__name",children:e.name})})]})})},n)}))})]})}),Object(x.jsx)(f.a,{xs:9,style:{position:"relative"},children:this.state.customer_spinner||void 0===o?Object(x.jsx)(C.a,{spinner:this.state.customer_spinner}):Object(x.jsxs)("div",{children:[Object(x.jsx)(w,{customer:o,name:this.state.customer?this.state.customer.name:null,customer_year:r}),Object(x.jsx)(A,{customer:o,customer_year:r,dashboard_metric:this.state.dashboard_metric,currency_type:this.state.currency_type}),Object(x.jsxs)("div",{children:[Object(x.jsx)(P.a,{}),Object(x.jsx)(F.a,{sales_list:this.state.sales,from_customer:!0})]})]})})]})]}):null]})}}]),n}(p.a.Component);M.getDerivedStateFromProps=function(){var t=Object(r.a)(u.a.mark((function t(e,n){var r,o,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.token,o=e.customer_list,c=e.customer_detail,void 0!==r&&""!==r){t.next=6;break}return n.redirect=!0,t.abrupt("return",n);case 6:if(null!==n.customer_id&&void 0!==c){t.next=14;break}return n.customer_id=o[0].id,n.spinner=!1,n.customer_spinner=!0,t.next=12,e.GET_CUSTOMER_DETAIL_ACTION(o[0].id);case 12:t.next=15;break;case 14:void 0!==c&&n.customer_id==c.id?(n.customer=c,n.sales=L(e.sales,c),n.customer_spinner=!1,n.spinner=!1):void 0!==c&&n.customer_id!==c.id?n.customer_spinner=!0:(n.spinner=!1,n.customer_spinner=!1,n.customer_id=e.customer_detail.id);case 15:return n.customer_list=o,n.dashboard_metric=e.dashboard_metric,n.currency_type=e.currency_type,n.customer_year=e.customer_year,t.abrupt("return",n);case 20:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();var R={GET_CUSTOMER_LIST_ACTION:O.e,GET_CUSTOMER_DETAIL_ACTION:O.d,UPDATE_CUSTOMER_YEAR_ACTION:O.w};e.default=Object(h.b)((function(t){return{token:t.auth_reducer.token,customer_list:t.list_reducer.customer_list,customer_detail:t.list_reducer.customer_detail,dashboard_metric:t.update_reducer.dashboard_metric,currency_type:t.update_reducer.currency_type,customer_year:t.update_reducer.customer_year,sales:t.list_reducer.sales_list}}),R)(M)},64:function(t,e,n){"use strict";n.d(e,"q",(function(){return N})),n.d(e,"r",(function(){return E})),n.d(e,"U",(function(){return I})),n.d(e,"s",(function(){return P})),n.d(e,"P",(function(){return F})),n.d(e,"e",(function(){return L})),n.d(e,"d",(function(){return M})),n.d(e,"c",(function(){return R})),n.d(e,"u",(function(){return U})),n.d(e,"a",(function(){return z})),n.d(e,"b",(function(){return B})),n.d(e,"g",(function(){return Y})),n.d(e,"h",(function(){return G})),n.d(e,"C",(function(){return J})),n.d(e,"i",(function(){return W})),n.d(e,"F",(function(){return K})),n.d(e,"k",(function(){return V})),n.d(e,"I",(function(){return Q})),n.d(e,"j",(function(){return q})),n.d(e,"f",(function(){return H})),n.d(e,"z",(function(){return X})),n.d(e,"n",(function(){return Z})),n.d(e,"M",(function(){return $})),n.d(e,"m",(function(){return tt})),n.d(e,"K",(function(){return et})),n.d(e,"o",(function(){return nt})),n.d(e,"l",(function(){return rt})),n.d(e,"p",(function(){return ot})),n.d(e,"J",(function(){return ct})),n.d(e,"t",(function(){return at})),n.d(e,"T",(function(){return st})),n.d(e,"x",(function(){return it})),n.d(e,"O",(function(){return ut})),n.d(e,"v",(function(){return lt})),n.d(e,"L",(function(){return pt})),n.d(e,"D",(function(){return ht})),n.d(e,"E",(function(){return dt})),n.d(e,"H",(function(){return ft})),n.d(e,"G",(function(){return bt})),n.d(e,"y",(function(){return jt})),n.d(e,"Q",(function(){return yt})),n.d(e,"S",(function(){return mt})),n.d(e,"R",(function(){return _t})),n.d(e,"A",(function(){return Ot})),n.d(e,"B",(function(){return gt})),n.d(e,"N",(function(){return xt})),n.d(e,"w",(function(){return vt}));var r=n(60),o=n(61),c=n.n(o),a=n(71);function s(t,e){return i.apply(this,arguments)}function i(){return(i=Object(r.a)(c.a.mark((function t(e,n){var r,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(a.b,"/accounts/get-token/"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e,password:n})});case 3:return r=t.sent,t.next=6,r.json();case 6:return o=t.sent,r=null,t.abrupt("return",o);case 11:throw t.prev=11,t.t0=t.catch(0),console.log(t.t0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}var u=n(83),l=n(84),p=n(73);function h(t,e){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(p.a)("/customer/top/month/1/?year=".concat(e,"&month=").concat(n)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(){return b.apply(this,arguments)}function b(){return(b=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(p.a)("/customer/",!0));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t){return y.apply(this,arguments)}function y(){return(y=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(p.a)("/customer/".concat(e,"/")));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t,e){return _.apply(this,arguments)}function _(){return(_=Object(r.a)(c.a.mark((function t(e,n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={code:e,name:n},t.abrupt("return",Object(p.b)("/customer/",r));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t,e,n,r){return g.apply(this,arguments)}function g(){return(g=Object(r.a)(c.a.mark((function t(e,n,r,o){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={customer:e,plate_no:n,first_name:r,last_name:o},t.abrupt("return",Object(p.b)("/customer/trucks/",a));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t,e){return v.apply(this,arguments)}function v(){return(v=Object(r.a)(c.a.mark((function t(e,n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={depot:e,customer:n},t.abrupt("return",Object(p.b)("/customer/add/",r));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var w=n(1);function C(t,e){return k.apply(this,arguments)}function k(){return(k=Object(r.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Date(e),e="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()),n=new Date(n),n="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),t.abrupt("return",Object(p.a)("/sales/?start_date=".concat(e,"&end_date=").concat(n)));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t,e,n,r,o,c,a,s,i,u,l,p,h,d){return D.apply(this,arguments)}function D(){return(D=Object(r.a)(c.a.mark((function t(e,n,r,o,a,s,i,u,l,h,d,f,b,j){var y;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Date(e),e="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()),n=new Date(n),n="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),y={product:r,lpo_no:o,customer:a,truck:s,depot:i,entry_no:u,order_no:l,date:h,vol_obs:d,vol_20:f,selling_price:b,is_paid:j},t.abrupt("return",Object(p.b)("/sales/?start_date=".concat(e,"&end_date=").concat(n),y));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t,e){return A.apply(this,arguments)}function A(){return(A=Object(r.a)(c.a.mark((function t(e,n){var r,o,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(r=new FormData).append("file",e),t.next=5,fetch("".concat(a.b,"/sales/").concat(n,"/upload/"),{method:"POST",headers:{},body:r});case 5:return o=t.sent,t.next=8,o.json();case 8:return s=t.sent,o=null,t.abrupt("return",s);case 13:throw t.prev=13,t.t0=t.catch(0),console.log(t.t0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}var N=function(t,e){return function(){var n=Object(r.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s(t,e).then((function(t){if(void 0!==t.token)r({type:w.o,payload:t});else try{var e=t.non_field_errors;r({type:w.p,payload:{"":e}})}catch(n){r({type:w.p,payload:t})}})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},E=function(){return function(t){t({type:w.q,payload:null})}},I=function(){return function(t){t({type:w.S,payload:null})}},P=function(t,e){return function(){var n=Object(r.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,h(t,e).then((function(t){r({type:w.r,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},F=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:w.M,payload:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},L=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f().then((function(t){e({type:w.c,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},M=function(t){return function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t).then((function(t){n({type:w.b,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},R=function(t,e){return function(){var n=Object(r.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m(t,e).then((function(t){r({type:w.c,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},U=function(t,e,n,o){return function(){var a=Object(r.a)(c.a.mark((function r(a){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,O(t,e,n,o).then((function(t){a({type:w.c,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return r.stop()}}),r)})));return function(t){return a.apply(this,arguments)}}()},z=function(t,e){return function(){var n=Object(r.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x(t,e).then((function(t){r({type:w.a,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},B=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:w.a,payload:void 0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Y=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.b)().then((function(t){e({type:w.e,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},G=function(t){return function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.c)(t).then((function(t){n({type:w.f,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},J=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:w.z,payload:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},W=function(t){return function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.d)(t).then((function(t){n({type:w.g,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},K=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:w.C,payload:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},V=function(t,e,n){return function(){var o=Object(r.a)(c.a.mark((function r(o){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(u.f)(t,e,n).then((function(t){o({type:w.i,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return r.stop()}}),r)})));return function(t){return o.apply(this,arguments)}}()},Q=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:w.F,payload:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},q=function(t,e,n){return function(){var o=Object(r.a)(c.a.mark((function r(o){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(u.e)(t,e,n).then((function(t){o({type:w.h,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return r.stop()}}),r)})));return function(t){return o.apply(this,arguments)}}()},H=function(t,e,n){return function(){var o=Object(r.a)(c.a.mark((function r(o){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(u.a)(t,e,n).then((function(t){o({type:w.d,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return r.stop()}}),r)})));return function(t){return o.apply(this,arguments)}}()},X=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:w.w,payload:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Z=function(t,e){return function(){var n=Object(r.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.c)(t,e).then((function(t){r({type:w.l,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},$=function(){return function(t){t({type:w.J,payload:!0})}},tt=function(t){return function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.b)(t).then((function(t){n({type:w.k,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},et=function(){return function(t){t({type:w.H,payload:!0})}},nt=function(t,e){return function(){var n=Object(r.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.d)(t,e).then((function(t){r({type:w.m,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},rt=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.a)().then((function(t){e({type:w.j,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ot=function(t,e){return function(){var n=Object(r.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C(t,e).then((function(t){r({type:w.n,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},ct=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:w.G,payload:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},at=function(t,e,n,o,a,s,i,u,l,p,h,d,f,b){return function(){var j=Object(r.a)(c.a.mark((function r(j){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,T(t,e,n,o,a,s,i,u,l,p,h,d,f,b).then((function(t){j({type:w.n,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return r.stop()}}),r)})));return function(t){return j.apply(this,arguments)}}()},st=function(t,e){return function(){var n=Object(r.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S(t,e).then((function(t){"success"===t.status?r({type:w.Q,payload:t}):r({type:w.R,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},it=function(t){return function(e){e({type:w.u,payload:t})}},ut=function(t){return function(e){e({type:w.L,payload:t})}},lt=function(t){return function(e){e({type:w.s,payload:t})}},pt=function(t){return function(e){e({type:w.I,payload:t})}},ht=function(t){return function(e){e({type:w.A,payload:t})}},dt=function(t){return function(e){e({type:w.B,payload:t})}},ft=function(t){return function(e){e({type:w.E,payload:t})}},bt=function(t){return function(e){e({type:w.D,payload:t})}},jt=function(t){return function(e){e({type:w.v,payload:t})}},yt=function(t){return function(e){e({type:w.N,payload:t})}},mt=function(t){return function(e){e({type:w.P,payload:t})}},_t=function(t){return function(e){e({type:w.O,payload:t})}},Ot=function(t){return function(e){e({type:w.x,payload:t})}},gt=function(t){return function(e){e({type:w.y,payload:t})}},xt=function(t){return function(e){e({type:w.K,payload:t})}},vt=function(t){return function(e){e({type:w.t,payload:t})}}},71:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));var r=location.protocol+"//"+location.host,o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},73:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return u}));var r=n(60),o=n(61),c=n.n(o),a=n(71),s=n(31),i=(n(64),function(){var t=Object(r.a)(c.a.mark((function t(e){var n,r,o,i,u=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=s.a.getState().auth_reducer.token,t.prev=2,t.next=5,fetch("".concat(a.b).concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(r.token)}});case 5:return o=t.sent,t.next=8,o.json();case 8:return i=t.sent,!1===r.is_staff&&!1===n&&(i=i.filter((function(t){return t.name===r.depot}))),o=null,t.abrupt("return",i);case 14:throw t.prev=14,t.t0=t.catch(2),console.log(t.t0),t.t0;case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}()),u=function(){var t=Object(r.a)(c.a.mark((function t(e,n){var r,o,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.a.getState().auth_reducer.token,t.prev=1,t.next=4,fetch("".concat(a.b).concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(r.token)},body:JSON.stringify(n)});case 4:return o=t.sent,t.next=7,o.json();case 7:return i=t.sent,o=null,t.abrupt("return",i);case 12:throw t.prev=12,t.t0=t.catch(1),console.log(t.t0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,n){return t.apply(this,arguments)}}()},76:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c}));var r=function(t,e){return t.setMonth(t.getMonth()+e),t},o=function(t){return"Million"===t?"m":"k"},c=function(t){return parseFloat(t.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0])}},83:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return p})),n.d(e,"f",(function(){return d})),n.d(e,"e",(function(){return b})),n.d(e,"a",(function(){return y}));var r=n(60),o=n(61),c=n.n(o),a=n(73);function s(){return i.apply(this,arguments)}function i(){return(i=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(a.a)("/depot/"));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(t){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(a.a)("/depot/month/?year=".concat(e)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(a.a)("/product/depot/month/?year=".concat(e)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t,e,n){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(c.a.mark((function t(e,n,r){var o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"object"!==typeof n&&"object"!==typeof r&&(n=new Date(n),r=new Date(r)),n="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),r="".concat(r.getFullYear(),"-").concat(r.getMonth()+1,"-").concat(r.getDate()),o=Object(a.a)("/depot/series/".concat(e,"/?start_date=").concat(n,"&end_date=").concat(r),!0),t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t,e,n){return j.apply(this,arguments)}function j(){return(j=Object(r.a)(c.a.mark((function t(e,n,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"object"!==typeof n&&"object"!==typeof r&&(n=new Date(n),r=new Date(r)),n="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),r="".concat(r.getFullYear(),"-").concat(r.getMonth()+1,"-").concat(r.getDate()),t.abrupt("return",Object(a.a)("/depot/product/series/".concat(e,"/?start_date=").concat(n,"&end_date=").concat(r),!0));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e,n){return m.apply(this,arguments)}function m(){return(m=Object(r.a)(c.a.mark((function t(e,n,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(a.a)("/depot/customer/".concat(e,"/?year=").concat(n,"&month=").concat(r),!0));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},84:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return p})),n.d(e,"a",(function(){return d}));var r=n(60),o=n(61),c=n.n(o),a=n(73);function s(t,e){return i.apply(this,arguments)}function i(){return(i=Object(r.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"object"!==typeof e&&"object"!==typeof n&&(e=new Date(e),n=new Date(n)),e="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()),n="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),t.abrupt("return",Object(a.a)("/product/series/?start_date=".concat(e,"&end_date=").concat(n)));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(t){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(a.a)("/product/month/?year=".concat(e)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t,e){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(a.a)("/product/customer/top/?year=".concat(e,"&month=").concat(n)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(a.a)("/product/",!0));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},91:function(t,e,n){"use strict";var r=n(12),o=n(13),c=n(14),a=n(15),s=n(0),i=n.n(s),u=n(408),l=n(409),p=n(25),h=n(81),d=n(2),f=n(29),b=n(60),j=n(61),y=n.n(j),m=n(413),_=n(64),O=n(3),g=function(t){Object(c.a)(n,t);var e=Object(a.a)(n);function n(){var t;Object(r.a)(this,n);for(var o=arguments.length,c=new Array(o),a=0;a<o;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={currency_type:t.props.currency_type},t.handleCurrencyTypeChange=function(){var e=Object(b.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.props.UPDATE_CURRENCY_TYPE_ACTION(n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(o.a)(n,[{key:"render",value:function(){var t=this;return Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)("h5",{children:this.props.header_title}),Object(O.jsxs)("div",{className:"header__left",children:[Object(O.jsx)(m.a.Group,{className:"header__currency",controlId:"exampleForm.ControlInput1",children:Object(O.jsxs)(m.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleCurrencyTypeChange(e.target.value)},children:[Object(O.jsx)("option",{children:this.state.currency_type}),["Million","Thousand"].map((function(e,n){return t.state.currency_type===e?null:Object(O.jsx)("option",{value:e,children:e},n)}))]})}),Object(O.jsxs)(l.a,{variant:"secondary",size:"sm",children:[this.props.first_name[0],this.props.last_name[0]]}),Object(O.jsxs)("p",{className:"header__header-name",children:[this.props.first_name," ",this.props.last_name]})]})]})}}]),n}(i.a.Component);g.getDerivedStateFromProps=function(){var t=Object(b.a)(y.a.mark((function t(e,n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.currency_type=e.currency_type,t.abrupt("return",n);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();var x={UPDATE_CURRENCY_TYPE_ACTION:_.v},v=Object(p.b)((function(t){return{currency_type:t.update_reducer.currency_type}}),x)(g),w=n(71),C=function(t){Object(c.a)(n,t);var e=Object(a.a)(n);function n(){var t;Object(r.a)(this,n);for(var o=arguments.length,c=new Array(o),a=0;a<o;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state={redirect:!1},t.handleLogOut=function(){t.props.USER_LOGGED_OUT_ACTION(),t.setState({redirect:!0})},t}return Object(o.a)(n,[{key:"render",value:function(){return this.state.redirect?Object(O.jsx)(d.a,{to:"/login"}):Object(O.jsxs)(u.a,{fluid:!0,className:"layout_main",children:[Object(O.jsxs)("div",{className:"layout_main__side",children:[Object(O.jsx)(f.b,{to:"/",className:"layout_main__logo",children:Object(O.jsx)("img",{src:"".concat(w.b,"/static/opl_logo.png"),alt:"logo",className:"layout_main__logo--img"})}),Object(O.jsxs)("div",{className:"layout_main__links",children:[!0===this.props.token.is_staff?Object(O.jsx)(f.c,{to:"/",className:"layout_main__button",children:Object(O.jsxs)("h6",{children:[Object(O.jsx)("span",{className:"layout_main__links--span",children:Object(O.jsx)(h.d,{size:20,color:"#D04D30"})}),"Dashboard"]})}):null,Object(O.jsx)(f.c,{to:"/depots",className:"layout_main__button",children:Object(O.jsxs)("h6",{children:[Object(O.jsx)("span",{className:"layout_main__links--span",children:Object(O.jsx)(h.a,{})}),"Depots"]})}),!0===this.props.token.is_staff?Object(O.jsx)(f.c,{to:"/sales",className:"layout_main__button",children:Object(O.jsxs)("h6",{children:[Object(O.jsx)("span",{className:"layout_main__links--span",children:Object(O.jsx)(h.i,{})}),"Sales"]})}):null,!0===this.props.token.is_staff?Object(O.jsx)(f.c,{to:"/customers",className:"layout_main__button",children:Object(O.jsxs)("h6",{children:[Object(O.jsx)("span",{className:"layout_main__links--span",children:Object(O.jsx)(h.j,{})}),"Customers"]})}):null,Object(O.jsx)(l.a,{variant:"transparent",className:"layout_main__button layout_main__logout",onClick:this.handleLogOut,children:Object(O.jsxs)("h6",{children:[Object(O.jsx)("span",{className:"layout_main__links--span",children:Object(O.jsx)(h.f,{})}),"Log Out"]})})]})]}),Object(O.jsxs)("div",{className:"layout_main__component",children:[Object(O.jsx)(v,{header_title:this.props.header_title,first_name:this.props.token.data.first_name,last_name:this.props.token.data.last_name}),this.props.children]})]})}}]),n}(i.a.Component),k={USER_LOGGED_OUT_ACTION:_.U};e.a=Object(p.b)((function(t){return{token:t.auth_reducer.token}}),k)(C)}}]);
//# sourceMappingURL=9.b24f6090.chunk.js.map