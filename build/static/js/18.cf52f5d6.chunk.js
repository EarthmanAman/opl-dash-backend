(this.webpackJsonpopl_frontend=this.webpackJsonpopl_frontend||[]).push([[18],{431:function(e,t,r){"use strict";r.r(t);var s=r(62),c=r(12),n=r(13),a=r(14),o=r(15),p=r(63),i=r.n(p),d=r(0),_=r.n(d),u=r(25),l=r(97),h=r(266),j=r(2),b=r(92),O=r(68),m=r(26),x=r(3),y=Object(d.lazy)((function(){return Promise.all([r.e(2),r.e(22)]).then(r.bind(null,295))})),f=Object(d.lazy)((function(){return r.e(32).then(r.bind(null,296))})),v=Object(d.lazy)((function(){return r.e(33).then(r.bind(null,297))})),T=Object(d.lazy)((function(){return Promise.all([r.e(2),r.e(24)]).then(r.bind(null,298))})),N=Object(d.lazy)((function(){return Promise.all([r.e(2),r.e(23)]).then(r.bind(null,299))})),E=Object(d.lazy)((function(){return r.e(14).then(r.bind(null,300))})),k=Object(d.lazy)((function(){return r.e(31).then(r.bind(null,301))})),C=Object(d.lazy)((function(){return Promise.all([r.e(4),r.e(3),r.e(6),r.e(8),r.e(29)]).then(r.bind(null,169))})),D=function(e){Object(a.a)(r,e);var t=Object(o.a)(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={redirect:!1,spinner:!1,didnt_load:!1},e.componentDidMount=Object(s.a)(i.a.mark((function t(){var r,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({spinner:!0}),console.log(e.props.depot_list),r=void 0!==e.props.depot?e.props.depot_list[parseInt(e.props.depot)].id:e.props.depot_list[0].id,s=void 0!==e.props.depot?e.props.depot:0,t.next=6,e.props.UPDATE_DEPOT_ACTION(s);case 6:return t.next=8,e.props.GET_DEPOT_PRODUCT_MONTH_ACTION(e.props.depot_product_month_year);case 8:return t.next=10,e.props.GET_DEPOT_SERIES_ACTION(r,e.props.selection_dates.startDate,e.props.selection_dates.endDate);case 10:return t.next=12,e.props.GET_DEPOT_PRODUCT_SERIES_ACTION(r,e.props.selection_dates.startDate,e.props.selection_dates.endDate);case 12:return t.next=14,e.props.GET_DEPOT_CUSTOMER_ACTION(r,e.props.depot_customer_year,e.props.depot_customer_month);case 14:case"end":return t.stop()}}),t)}))),e}return Object(n.a)(r,[{key:"render",value:function(){var e=this.state.spinner;return this.state.redirect?Object(x.jsx)(j.a,{to:"/login"}):Object(x.jsx)(b.a,{header_title:"DEPOTS",children:e?Object(x.jsx)(m.a,{spinner:e}):Object(x.jsxs)("div",{children:[this.props.token.is_staff?Object(x.jsx)(l.a,{children:Object(x.jsx)(h.a,{children:Object(x.jsxs)("div",{className:"chart-area",children:[Object(x.jsx)(d.Suspense,{fallback:Object(x.jsx)(m.a,{spinner:!0}),children:Object(x.jsx)(f,{})}),Object(x.jsx)(d.Suspense,{fallback:Object(x.jsx)(m.a,{spinner:!0}),children:Object(x.jsx)(y,{depot_product_month:this.props.depot_product_month,depot_list:this.props.depot_list,depot_product_month_month:this.props.depot_product_month_month,depot_product_month_year:this.props.depot_product_month_year,dashboard_metric:this.props.dashboard_metric,currency_type:this.props.currency_type,update_depot_product_month:this.props.update_depot_product_month})})]})})}):Object(x.jsx)(d.Suspense,{fallback:Object(x.jsx)(m.a,{spinner:!0}),children:Object(x.jsx)(C,{})}),Object(x.jsx)(l.a,{children:Object(x.jsx)(h.a,{children:Object(x.jsx)(v,{})})}),Object(x.jsx)(l.a,{children:Object(x.jsx)(h.a,{children:Object(x.jsx)("div",{className:"chart-area",children:Object(x.jsx)(d.Suspense,{fallback:Object(x.jsx)(m.a,{spinner:!0}),children:Object(x.jsx)(T,{depot_series:this.props.depot_series,depot:this.props.depot,dashboard_metric:this.props.dashboard_metric,currency_type:this.props.currency_type,selection_dates:this.props.selection_dates,update_depot_series:this.props.update_depot_series,update_product_series:this.props.update_product_series})})})})}),Object(x.jsxs)(l.a,{children:[Object(x.jsx)(h.a,{xs:7,children:Object(x.jsx)("div",{className:"chart-area",children:Object(x.jsx)(d.Suspense,{fallback:Object(x.jsx)(m.a,{spinner:!0}),children:Object(x.jsx)(N,{depot_product_series:this.props.depot_product_series,depot:this.props.depot,dashboard_metric:this.props.dashboard_metric,currency_type:this.props.currency_type,selection_dates:this.props.selection_dates,update_depot_series:this.props.update_depot_series,update_product_series:this.props.update_product_series})})})}),Object(x.jsx)(h.a,{xs:5,children:Object(x.jsxs)("div",{className:"chart-area",children:[Object(x.jsx)(d.Suspense,{fallback:Object(x.jsx)(m.a,{spinner:!0}),children:Object(x.jsx)(k,{})}),Object(x.jsx)(d.Suspense,{fallback:Object(x.jsx)(m.a,{spinner:!0}),children:Object(x.jsx)(E,{depot_customer:this.props.depot_customer,depot_customer_year:this.props.depot_customer_year,depot_customer_month:this.props.depot_customer_month,depot:this.props.depot,currency_type:this.props.currency_type,update_depot_series:this.props.update_depot_series,update_depot_customer:this.props.update_depot_customer})})]})})]})]})})}}]),r}(_.a.Component);D.getDerivedStateFromProps=function(){var e=Object(s.a)(i.a.mark((function e(t,r){var s,c,n,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.token,c=t.depot_product_month,n=t.depot_series,t.depot_product_month_year,a=t.depot_product_series,o=t.depot_customer,void 0!==s&&""!==s){e.next=6;break}return r.redirect=!0,e.abrupt("return",r);case 6:r.spinner=!(c&&n&&a&&o);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();var P={GET_DEPOT_PRODUCT_MONTH_ACTION:O.i,GET_DEPOT_SERIES_ACTION:O.k,GET_DEPOT_PRODUCT_SERIES_ACTION:O.j,GET_DEPOT_CUSTOMER_ACTION:O.f,UPDATE_DEPOT_ACTION:O.z};t.default=Object(u.b)((function(e){return{token:e.auth_reducer.token,depot_series:e.list_reducer.depot_series,depot_product_series:e.list_reducer.depot_product_series,depot:e.update_reducer.depot,depot_customer:e.list_reducer.depot_customer,depot_product_month:e.list_reducer.depot_product_month?e.list_reducer.depot_product_month:[],depot_list:e.list_reducer.depot_list?e.list_reducer.depot_list:[],depot_product_month_month:e.update_reducer.depot_product_month_month,depot_product_month_year:e.update_reducer.depot_product_month_year,dashboard_metric:e.update_reducer.dashboard_metric,currency_type:e.update_reducer.currency_type,selection_dates:e.update_reducer.selection_dates,depot_customer_year:e.update_reducer.depot_customer_year,depot_customer_month:e.update_reducer.depot_customer_month,update_depot_product_month:e.list_reducer.update_depot_product_month,update_depot_series:e.list_reducer.update_depot_series,update_product_series:e.list_reducer.update_product_series,update_depot_customer:e.list_reducer.update_depot_customer}}),P)(D)},92:function(e,t,r){"use strict";var s=r(12),c=r(13),n=r(14),a=r(15),o=r(0),p=r.n(o),i=r(428),d=r(429),_=r(25),u=r(84),l=r(2),h=r(29),j=r(62),b=r(63),O=r.n(b),m=r(436),x=r(112),y=r(68),f=r(3),v=function(e){Object(n.a)(r,e);var t=Object(a.a)(r);function r(){var e;Object(s.a)(this,r);for(var c=arguments.length,n=new Array(c),a=0;a<c;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={currency_type:e.props.currency_type},e.handleCurrencyTypeChange=function(){var t=Object(j.a)(O.a.mark((function t(r){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.UPDATE_CURRENCY_TYPE_ACTION(r);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(c.a)(r,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("div",{className:"header",children:[Object(f.jsx)("h5",{children:this.props.header_title}),Object(f.jsxs)("div",{className:"header__left",children:[Object(f.jsx)("div",{children:Object(f.jsx)(d.a,{variant:"secondary",size:"sm",style:{marginRight:10},onClick:function(){return window.location.reload()},children:Object(f.jsx)(x.a,{color:"green"})})}),Object(f.jsx)(m.a.Group,{className:"header__currency",controlId:"exampleForm.ControlInput1",children:Object(f.jsxs)(m.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.handleCurrencyTypeChange(t.target.value)},children:[Object(f.jsx)("option",{children:this.state.currency_type}),["Million","Thousand"].map((function(t,r){return e.state.currency_type===t?null:Object(f.jsx)("option",{value:t,children:t},r)}))]})}),Object(f.jsxs)(d.a,{variant:"secondary",size:"sm",children:[this.props.first_name[0],this.props.last_name[0]]}),Object(f.jsxs)("p",{className:"header__header-name",children:[this.props.first_name," ",this.props.last_name]})]})]})}}]),r}(p.a.Component);v.getDerivedStateFromProps=function(){var e=Object(j.a)(O.a.mark((function e(t,r){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.currency_type=t.currency_type,e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();var T={UPDATE_CURRENCY_TYPE_ACTION:y.w},N=Object(_.b)((function(e){return{currency_type:e.update_reducer.currency_type}}),T)(v),E=r(79),k=function(e){Object(n.a)(r,e);var t=Object(a.a)(r);function r(){var e;Object(s.a)(this,r);for(var c=arguments.length,n=new Array(c),a=0;a<c;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))).state={redirect:!1},e.handleLogOut=function(){e.props.USER_LOGGED_OUT_ACTION(),e.setState({redirect:!0})},e}return Object(c.a)(r,[{key:"render",value:function(){return this.state.redirect?Object(f.jsx)(l.a,{to:"/login"}):Object(f.jsxs)(i.a,{fluid:!0,className:"layout_main",children:[Object(f.jsxs)("div",{className:"layout_main__side",children:[Object(f.jsx)(h.b,{to:"/",className:"layout_main__logo",children:Object(f.jsx)("img",{src:"".concat(E.b,"/static/opl_logo.png"),alt:"logo",className:"layout_main__logo--img"})}),Object(f.jsxs)("div",{className:"layout_main__links",children:[!0===this.props.token.is_staff?Object(f.jsx)(h.c,{to:"/",className:"layout_main__button",children:Object(f.jsxs)("h6",{children:[Object(f.jsx)("span",{className:"layout_main__links--span",children:Object(f.jsx)(u.d,{size:20,color:"#D04D30"})}),"Dashboard"]})}):null,Object(f.jsx)(h.c,{to:"/depots",className:"layout_main__button",children:Object(f.jsxs)("h6",{children:[Object(f.jsx)("span",{className:"layout_main__links--span",children:Object(f.jsx)(u.a,{})}),"Depots"]})}),Object(f.jsx)(h.c,{to:"/sale",className:"layout_main__button",children:Object(f.jsxs)("h6",{children:[Object(f.jsx)("span",{className:"layout_main__links--span",children:Object(f.jsx)(u.i,{})}),"Sales"]})}),!0===this.props.token.is_staff?Object(f.jsx)(h.c,{to:"/customers",className:"layout_main__button",children:Object(f.jsxs)("h6",{children:[Object(f.jsx)("span",{className:"layout_main__links--span",children:Object(f.jsx)(u.j,{})}),"Customers"]})}):null,Object(f.jsx)(d.a,{variant:"transparent",className:"layout_main__button layout_main__logout",onClick:this.handleLogOut,children:Object(f.jsxs)("h6",{children:[Object(f.jsx)("span",{className:"layout_main__links--span",children:Object(f.jsx)(u.f,{})}),"Log Out"]})})]})]}),Object(f.jsxs)("div",{className:"layout_main__component",children:[Object(f.jsx)(N,{header_title:this.props.header_title,first_name:this.props.token.data.first_name,last_name:this.props.token.data.last_name}),this.props.children]})]})}}]),r}(p.a.Component),C={USER_LOGGED_OUT_ACTION:y.Y};t.a=Object(_.b)((function(e){return{token:e.auth_reducer.token}}),C)(k)},97:function(e,t,r){"use strict";var s=r(18),c=r(69),n=r(65),a=r.n(n),o=r(0),p=r(71),i=r(3),d=["bsPrefix","className","as"],_=o.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,o=e.as,_=void 0===o?"div":o,u=Object(c.a)(e,d),l=Object(p.b)(r,"row"),h=Object(p.a)(),j="".concat(l,"-cols"),b=[];return h.forEach((function(e){var t,r=u[e];delete u[e],t=null!=r&&"object"===typeof r?r.cols:r;var s="xs"!==e?"-".concat(e):"";null!=t&&b.push("".concat(j).concat(s,"-").concat(t))})),Object(i.jsx)(_,Object(s.a)(Object(s.a)({ref:t},u),{},{className:a.a.apply(void 0,[n,l].concat(b))}))}));_.displayName="Row",t.a=_}}]);
//# sourceMappingURL=18.cf52f5d6.chunk.js.map