(this.webpackJsonpopl_frontend=this.webpackJsonpopl_frontend||[]).push([[24],{289:function(t,e,n){"use strict";n.r(e);var a=n(12),s=n(13),i=n(14),r=n(15),o=n(0),c=n.n(o),u=n(88),d=n.n(u),p=n(124),l=n.n(p),h=n(75),m=n(26),f=n(3),y=function(t,e){for(var n=[],a=0;a<t.length;a++)n.push([t[a].timestamp,"Million"===e?Object(h.c)(t[a].sum/1e6):Object(h.c)(t[a].sum/1e3)]);return n},b=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(t){var s;return Object(a.a)(this,n),(s=e.call(this,t)).state={spinner:!1,series:[],currency_type:s.props.currency_type,selection_dates:s.props.selection_dates,options:{chart:{id:"area-datetime",type:"area",height:400,zoom:{autoScaleYaxis:!1}},title:{text:s.props.dashboard_metric?"Revenue":"Quantities"},annotations:{xaxis:[{x:new Date("".concat(s.props.selection_dates.startDate)).getTime(),borderColor:"#999",yAxisIndex:0}]},dataLabels:{enabled:!0},markers:{size:0,style:"hollow"},xaxis:{type:"datetime",tickAmount:5},yaxis:{title:{text:"Kshs (Millions)"},min:0},tooltip:{x:{format:"dd MMM yyyy"},y:{formatter:s.props.dashboard_metric?function(t){return"Kshs ".concat(t," Millions")}:function(t){return"".concat(t," Litres")}}}},selection:"one_month"},s}return Object(s.a)(n,[{key:"render",value:function(){try{l.a.exec("area-datetime","zoomX",new Date("".concat(this.state.selection_dates.startDate)).getTime(),new Date("".concat(this.state.selection_dates.endDate)).getTime())}catch(t){}return Object(f.jsx)("div",{id:"chart",children:this.state.spinner?Object(f.jsx)("div",{style:{height:400,position:"relative"},children:Object(f.jsx)(m.a,{spinner:this.state.spinner})}):Object(f.jsx)("div",{id:"chart-timeline",children:Object(f.jsx)(d.a,{options:this.state.options,series:this.state.series,type:"area",height:400})})})}}]),n}(c.a.Component);b.getDerivedStateFromProps=function(t,e){var n=t.depot_series,a=t.update_product_series,s=t.dashboard_metric,i=t.selection_dates,r=t.currency_type,o=t.update_depot_series;if(console.log(),o||a)return e.spinner=!0,e;e.spinner=!1;var c=n,u=[],d=s?c.revenue:c.quantity;return"string"===typeof i.startDate&&(i.startDate=new Date("".concat(i.startDate)),i.endDate=new Date("".concat(i.endDate))),u=u.concat({name:c.name,data:y(d,r)}),e.series=u,e.options.title.text=s?"Revenue":"Quantities",e.options.yaxis.title.text=s?"Kshs (".concat(r,")"):"Litres (".concat(r,")"),e.options.tooltip.y.formatter=s?function(t){return"Kshs ".concat(t).concat(Object(h.b)(r))}:function(t){return"".concat(t).concat(Object(h.b)(r)," Litres")},e.selection_dates=i,e.currency_type=r,e},e.default=b},75:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return i}));var a=function(t,e){return t.setMonth(t.getMonth()+e),t},s=function(t){return"Million"===t?"m":"k"},i=function(t){return parseFloat(t.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0])}}}]);
//# sourceMappingURL=24.8b7583b7.chunk.js.map