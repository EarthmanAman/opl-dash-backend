(this.webpackJsonpopl_frontend=this.webpackJsonpopl_frontend||[]).push([[11],{168:function(t,e,r){"use strict";var l=r(60),o=r(12),s=r(13),n=r(14),a=r(15),i=r(61),c=r.n(i),h=r(0),b=r.n(h),d=r(409),p=r(25),u=r(64),j=r(81),g=r(111),_=r(110),y=r(3),f=function(t){Object(n.a)(r,t);var e=Object(a.a)(r);function r(){var t;Object(o.a)(this,r);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))).state={startDate:new Date(t.props.sales_date.start_date),endDate:new Date(t.props.sales_date.end_date),key:"selection",date:!0,cost:!1},t.handleSelect=function(){var e=Object(l.a)(c.a.mark((function e(r){var l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({startDate:r.selection.startDate,endDate:r.selection.endDate}),l={start_date:r.selection.startDate,end_date:r.selection.endDate},e.next=4,t.props.UPDATE_GET_SALES_LIST_ACTION();case 4:return e.next=6,t.props.UPDATE_SALES_DATE_ACTION(l);case 6:return e.next=8,t.props.GET_SALES_LIST_ACTION(l.start_date,l.end_date);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(s.a)(r,[{key:"render",value:function(){var t=this.state.startDate,e=this.state.endDate;return Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"sales-top",children:Object(y.jsx)(_.a,{trigger:Object(y.jsx)(d.a,{className:"input-dates",size:"sm",children:Object(y.jsxs)("div",{className:"input-display",children:[Object(y.jsx)("span",{children:Object(y.jsx)(j.b,{color:"#D04D30",size:18})}),t.toDateString()," - ",e.toDateString(),Object(y.jsx)("span",{children:Object(y.jsx)(j.e,{size:18})})]})}),position:"bottom",children:Object(y.jsx)(g.DateRangePicker,{onChange:this.handleSelect,showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:[this.state],direction:"horizontal",preventSnapRefocus:!0,calendarFocus:"backwards",className:"date-range"})})})})}}]),r}(b.a.Component);f.getDerivedStateFromProps=function(t,e){return e.startDate=new Date(t.sales_date.start_date),e.endDate=new Date(t.sales_date.end_date),e};var O={UPDATE_SALES_DATE_ACTION:u.N,UPDATE_GET_SALES_LIST_ACTION:u.J,GET_SALES_LIST_ACTION:u.p};e.a=Object(p.b)((function(t){var e={start_date:new Date(2022,3,20),end_date:new Date(2022,3,30)};return{sales_date:t.update_reducer.sales_date?t.update_reducer.sales_date:e,depots:t.list_reducer.depot_list}}),O)(f)},172:function(t,e,r){"use strict";var l=r(60),o=r(12),s=r(13),n=r(14),a=r(15),i=r(61),c=r.n(i),h=r(0),b=r.n(h),d=r(405),p=r(413),u=r(283),j=r(409),g=r(298),_=r(25),y=r(64),f=r(26),O=r(191),m=r.n(O),x=r(123),v=r(3),C=m.a.ExcelFile,T=m.a.ExcelFile.ExcelSheet,S=function(t){Object(n.a)(r,t);var e=Object(a.a)(r);function r(){return Object(o.a)(this,r),e.apply(this,arguments)}return Object(s.a)(r,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)(C,{element:Object(v.jsxs)(j.a,{variant:"secondary",size:"sm",style:{fontSize:10},children:[Object(v.jsx)(x.a,{color:"green",size:25})," Export"]}),children:Object(v.jsx)(T,{dataSet:this.props.dataset,name:"Organization"})})})}}]),r}(h.Component),D=S,A=function(t){Object(n.a)(r,t);var e=Object(a.a)(r);function r(){var t;Object(o.a)(this,r);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))).state={sales_list:void 0!==t.props.sales_list?t.props.sales_list:[],sales_date:t.props.sales_date,depot:"All",product:"All",order_no:null,active:1,spinner:!1,success:!0,delete_order:null},t.onSearchChange=function(e){var r=t.state.active,l=50*(r-1),o=50*r;""===e||void 0===e||null===e?t.setState({sales_list:t.props.sales_list.slice(l,o)}):t.setState({order_no:e})},t.onSearch=function(e){e.preventDefault();var r=t.state.order_no,l=t.props.sales_list;l=l.filter((function(t){return t.order_no.includes(r)})),t.setState({sales_list:l,product:"All",depot:"All"})},t.handleCalc=function(){for(var e=t.state.sales_list,r=0,l=0,o=0;o<e.length;o++){var s=e[o];r+=s.vol_obs,l+=s.vol_obs*s.selling_price}return[l,r]},t.handleProductChange=function(){var e=Object(l.a)(c.a.mark((function e(r){var l,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=t.props.sales_list,"All"!==r&&(l=l.filter((function(t){return t.product.name===r}))),"All"!==t.state.depot&&(o=t.props.depots[parseInt(t.state.depot)].name,l=l.filter((function(t){return t.depot.name===o}))),t.setState({sales_list:l,product:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.handleDepotChange=function(e){var r=t.props.sales_list;if("All"!==e){var l=t.props.depots[parseInt(e)].name;r=r.filter((function(t){return t.depot.name===l}))}var o=t.state.product;console.log(o),"All"!==o&&(r=r.filter((function(t){return t.product.name===o}))),t.setState({sales_list:r,depot:e})},t.formatData=function(){for(var e=t.state.sales_list,r=[],l=0;l<e.length;l++){var o=e[l];r.push([{value:o.date,style:{fill:{patternType:"solid",fgColor:{rgb:"B4C6E7"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:o.depot.name,style:{fill:{patternType:"solid",fgColor:{rgb:"B4C6E7"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:o.product.name,style:{fill:{patternType:"solid",fgColor:{rgb:"B4C6E7"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:o.customer.name,style:{fill:{patternType:"solid",fgColor:{rgb:"7B7B7B"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:null===o.truck.plate_no?"":o.truck.plate_no,style:{fill:{patternType:"solid",fgColor:{rgb:"7B7B7B"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:null===o.truck.driver?"":o.truck.driver,style:{fill:{patternType:"solid",fgColor:{rgb:"7B7B7B"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:null===o.order_no?"":o.order_no,style:{fill:{patternType:"solid",fgColor:{rgb:"A9D08E"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:null===o.entry_no?"":o.entry_no,style:{fill:{patternType:"solid",fgColor:{rgb:"A9D08E"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:null===o.lpo_no?"":o.lpo_no,style:{fill:{patternType:"solid",fgColor:{rgb:"A9D08E"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:o.vol_obs,style:{fill:{patternType:"solid",fgColor:{rgb:"F8CBAD"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:null===o.vol_20?0:o.vol_20,style:{fill:{patternType:"solid",fgColor:{rgb:"F8CBAD"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{value:parseFloat(o.selling_price),style:{fill:{patternType:"solid",fgColor:{rgb:"F8CBAD"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}},alignment:{horizontal:"right"}}},{value:parseFloat(o.vol_obs*o.selling_price),style:{fill:{patternType:"solid",fgColor:{rgb:"00B050"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}},alignment:{horizontal:"right"}}},{value:o.is_paid,style:{fill:{patternType:"solid",fgColor:{rgb:"A9D08E"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}}])}return[{columns:[{title:"DATE",width:{wpx:80},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"DEPOT",width:{wpx:100},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"PRODUCT",width:{wpx:80},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"CUSTOMER",width:{wpx:180},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"TRUCK",width:{wpx:100},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"DRIVER",width:{wpx:150},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"ORDER NO",width:{wpx:100},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"ENTRY NO",width:{wpx:150},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"LPO NO",width:{wpx:120},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"VOL OBS",width:{wpx:80},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"VOL 20",width:{wpx:80},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"SELLING PRICE",width:{wpx:100},height:{wpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"AMOUNT",width:{wpx:100},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}},{title:"PAID",width:{wpx:50},height:{hpx:50},style:{font:{bold:!0},fill:{patternType:"solid",fgColor:{rgb:"548235"}},border:{bottom:{style:"thin",color:{rgb:"000000"}},top:{style:"thin",color:{rgb:"000000"}},right:{style:"thin",color:{rgb:"000000"}},left:{style:"thin",color:{rgb:"000000"}}}}}],data:r}]},t}return Object(s.a)(r,[{key:"numberWithCommas",value:function(t){try{return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}catch(e){return t}}},{key:"render",value:function(){for(var t=this,e=[],r=this.state.active,l=50*(r-1),o=50*r,s=function(l){e.push(Object(v.jsx)(d.a.Item,{active:l===r,onClick:function(){return t.setState({active:l})},children:l},l))},n=1;n<=Math.ceil(this.state.sales_list.length/50);n++)s(n);var a=this.props,i=a.depots,c=a.products,h=this.handleCalc(),b=this.formatData();return Object(v.jsx)("div",{children:this.state.spinner?Object(v.jsx)(f.a,{spinner:this.state.spinner}):Object(v.jsxs)("div",{className:"sale-table",children:[Object(v.jsx)("div",{className:"sale-table__header",children:Object(v.jsxs)(p.a,{className:"d-flex",style:{alignItems:"flex-end"},onSubmit:this.onSearch,children:[Object(v.jsx)(D,{dataset:b}),Object(v.jsxs)(p.a.Group,{className:"mb-4 pie-select__child sale-table__select",controlId:"exampleForm.ControlInput1",style:{marginBottom:0},children:[Object(v.jsx)(p.a.Label,{children:"Depot"}),Object(v.jsxs)(p.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleDepotChange(e.target.value)},children:["All"===this.state.depot?null:Object(v.jsx)("option",{value:this.state.depot,children:i[parseInt(this.state.depot)].name}),Object(v.jsx)("option",{value:"All",children:"All"}),i.map((function(e,r){return t.state.depot===r?null:Object(v.jsx)("option",{value:r,children:e.name},r)}))]})]}),Object(v.jsxs)(p.a.Group,{className:"mb-4 pie-select__child sale-table__select",controlId:"exampleForm.ControlInput1",style:{marginBottom:0},children:[Object(v.jsx)(p.a.Label,{children:"Product"}),Object(v.jsxs)(p.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleProductChange(e.target.value)},children:["All"===this.state.product?null:Object(v.jsx)("option",{value:this.state.product,children:this.state.product}),Object(v.jsx)("option",{value:"All",children:"All"}),c.map((function(e,r){return t.state.product===e.name?null:Object(v.jsx)("option",{value:e.name,children:e.name},r)}))]})]}),Object(v.jsx)(u.a,{type:"search",placeholder:"Search by order no.",className:"me-2 sales-table__search-input","aria-label":"Search by order no.",size:"sm",onChange:function(e){return t.onSearchChange(e.target.value)}}),Object(v.jsx)(j.a,{variant:"outline-primary",type:"submit",children:"Search"})]})}),Object(v.jsxs)(g.a,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{}),Object(v.jsx)("th",{children:"Date"}),this.props.from_customer?null:Object(v.jsx)("th",{children:"Depot"}),Object(v.jsx)("th",{children:"Product"}),this.props.from_customer?null:Object(v.jsx)("th",{children:"Customer"}),Object(v.jsx)("th",{children:"Truck"}),Object(v.jsx)("th",{children:"Driver"}),Object(v.jsx)("th",{children:"Order No"}),Object(v.jsx)("th",{children:"Lpo No"}),Object(v.jsx)("th",{children:"Entry No"}),Object(v.jsx)("th",{children:"S.Price"}),Object(v.jsx)("th",{children:"OBS Vol"}),Object(v.jsx)("th",{children:"Vol@20"}),Object(v.jsx)("th",{children:"Amount"}),Object(v.jsx)("th",{children:"Paid"})]})}),Object(v.jsxs)("tbody",{children:[this.state.sales_list.slice(l,o).map((function(e,r){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:l+r+1}),Object(v.jsx)("td",{children:e.date}),t.props.from_customer?null:Object(v.jsx)("td",{children:e.depot.name}),Object(v.jsx)("td",{children:e.product.name}),t.props.from_customer?null:Object(v.jsx)("td",{children:e.customer.name}),Object(v.jsx)("td",{children:e.truck.plate_no}),Object(v.jsx)("td",{children:e.truck.driver}),Object(v.jsx)("td",{children:e.order_no}),Object(v.jsx)("td",{children:e.lpo_no}),Object(v.jsx)("td",{children:e.entry_no}),Object(v.jsx)("td",{children:e.selling_price}),Object(v.jsx)("td",{children:t.numberWithCommas(e.vol_obs)}),Object(v.jsx)("td",{children:t.numberWithCommas(e.vol_20)}),Object(v.jsx)("td",{children:t.numberWithCommas(e.vol_obs*e.selling_price)}),Object(v.jsx)("td",{children:e.is_paid?"True":"False"})]},r)})),Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{}),Object(v.jsx)("th",{children:"Totals"}),Object(v.jsx)("th",{}),Object(v.jsx)("th",{}),this.props.from_customer?null:Object(v.jsx)("th",{}),this.props.from_customer?null:Object(v.jsx)("th",{}),Object(v.jsx)("th",{}),Object(v.jsx)("th",{}),Object(v.jsx)("th",{}),Object(v.jsx)("th",{}),Object(v.jsx)("th",{}),Object(v.jsxs)("th",{children:["Kshs. ",this.numberWithCommas(h[1])]}),Object(v.jsx)("th",{}),Object(v.jsxs)("th",{children:["Kshs. ",this.numberWithCommas(h[0])]}),Object(v.jsx)("th",{})]})]})]}),Object(v.jsx)("div",{children:Object(v.jsx)(d.a,{size:"sm",children:e})})]})})}}]),r}(b.a.Component);A.getDerivedStateFromProps=function(t,e){return e.success=!0,e};var w={GET_SALES_LIST_ACTION:y.p};e.a=Object(_.b)((function(t){var e={start_date:new Date(2022,1,20),end_date:new Date(2022,1,28)};return{sales_date:t.update_reducer.sales_date?t.update_reducer.sales_date:e,update_get_sales_list:t.list_reducer.update_get_sales_list,depots:t.list_reducer.depot_list,products:t.list_reducer.product_list}}),w)(A)},210:function(t,e){},211:function(t,e){},221:function(t,e){},222:function(t,e){},242:function(t,e){},244:function(t,e){},245:function(t,e){},246:function(t,e){},247:function(t,e){},255:function(t,e){},261:function(t,e){},264:function(t,e){},410:function(t,e,r){"use strict";r.r(e);var l=r(60),o=r(12),s=r(13),n=r(14),a=r(15),i=r(61),c=r.n(i),h=r(0),b=r.n(h),d=r(25),p=r(2),u=r(91),j=r(26),g=r(64),_=r(172),y=r(168),f=r(3),O=function(t){Object(n.a)(r,t);var e=Object(a.a)(r);function r(){var t;Object(o.a)(this,r);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))).state={spinner:!1,redirect:!1,sales_date:t.props.sales_date},t.componentDidMount=Object(l.a)(c.a.mark((function e(){var r,l,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.props,l=r.sales_date,void 0!==(o=r.sales_list)&&null!==o){e.next=7;break}return t.setState({spinner:!0}),e.next=5,t.props.UPDATE_GET_SALES_LIST_ACTION();case 5:return e.next=7,t.props.GET_SALES_LIST_ACTION(l.start_date,l.end_date);case 7:case"end":return e.stop()}}),e)}))),t}return Object(s.a)(r,[{key:"render",value:function(){return this.state.redirect?Object(f.jsx)(p.a,{to:"/login"}):Object(f.jsx)(u.a,{header_title:"Sales",children:this.state.spinner?Object(f.jsx)(j.a,{spinner:this.state.spinner}):Object(f.jsxs)("div",{children:[Object(f.jsx)(y.a,{}),Object(f.jsx)(_.a,{sales_list:this.props.sales_list,from_customer:!1})]})})}}]),r}(b.a.Component);O.getDerivedStateFromProps=function(){var t=Object(l.a)(c.a.mark((function t(e,r){var l,o,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=e.token,e.sales_list,o=e.sales_date,s=e.update_get_sales_list,void 0!==l&&null!==l){t.next=4;break}return r.redirect=!0,t.abrupt("return",r);case 4:if(!s){t.next=10;break}return r.spinner=!0,r.sales_date=o,t.abrupt("return",r);case 10:r.spinner=!1,r.redirect=!1;case 12:return t.abrupt("return",r);case 13:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();var m={GET_SALES_LIST_ACTION:g.p,UPDATE_GET_SALES_LIST_ACTION:g.J};e.default=Object(d.b)((function(t){return{token:t.auth_reducer.token,sales_list:t.list_reducer.sales_list,update_get_sales_list:t.list_reducer.update_get_sales_list,sales_date:t.update_reducer.sales_date}}),m)(O)},91:function(t,e,r){"use strict";var l=r(12),o=r(13),s=r(14),n=r(15),a=r(0),i=r.n(a),c=r(408),h=r(409),b=r(25),d=r(81),p=r(2),u=r(29),j=r(60),g=r(61),_=r.n(g),y=r(413),f=r(64),O=r(3),m=function(t){Object(s.a)(r,t);var e=Object(n.a)(r);function r(){var t;Object(l.a)(this,r);for(var o=arguments.length,s=new Array(o),n=0;n<o;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={currency_type:t.props.currency_type},t.handleCurrencyTypeChange=function(){var e=Object(j.a)(_.a.mark((function e(r){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.props.UPDATE_CURRENCY_TYPE_ACTION(r);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(o.a)(r,[{key:"render",value:function(){var t=this;return Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)("h5",{children:this.props.header_title}),Object(O.jsxs)("div",{className:"header__left",children:[Object(O.jsx)(y.a.Group,{className:"header__currency",controlId:"exampleForm.ControlInput1",children:Object(O.jsxs)(y.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleCurrencyTypeChange(e.target.value)},children:[Object(O.jsx)("option",{children:this.state.currency_type}),["Million","Thousand"].map((function(e,r){return t.state.currency_type===e?null:Object(O.jsx)("option",{value:e,children:e},r)}))]})}),Object(O.jsxs)(h.a,{variant:"secondary",size:"sm",children:[this.props.first_name[0],this.props.last_name[0]]}),Object(O.jsxs)("p",{className:"header__header-name",children:[this.props.first_name," ",this.props.last_name]})]})]})}}]),r}(i.a.Component);m.getDerivedStateFromProps=function(){var t=Object(j.a)(_.a.mark((function t(e,r){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.currency_type=e.currency_type,t.abrupt("return",r);case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();var x={UPDATE_CURRENCY_TYPE_ACTION:f.v},v=Object(b.b)((function(t){return{currency_type:t.update_reducer.currency_type}}),x)(m),C=r(71),T=function(t){Object(s.a)(r,t);var e=Object(n.a)(r);function r(){var t;Object(l.a)(this,r);for(var o=arguments.length,s=new Array(o),n=0;n<o;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))).state={redirect:!1},t.handleLogOut=function(){t.props.USER_LOGGED_OUT_ACTION(),t.setState({redirect:!0})},t}return Object(o.a)(r,[{key:"render",value:function(){return this.state.redirect?Object(O.jsx)(p.a,{to:"/login"}):Object(O.jsxs)(c.a,{fluid:!0,className:"layout_main",children:[Object(O.jsxs)("div",{className:"layout_main__side",children:[Object(O.jsx)(u.b,{to:"/",className:"layout_main__logo",children:Object(O.jsx)("img",{src:"".concat(C.b,"/static/opl_logo.png"),alt:"logo",className:"layout_main__logo--img"})}),Object(O.jsxs)("div",{className:"layout_main__links",children:[!0===this.props.token.is_staff?Object(O.jsx)(u.c,{to:"/",className:"layout_main__button",children:Object(O.jsxs)("h6",{children:[Object(O.jsx)("span",{className:"layout_main__links--span",children:Object(O.jsx)(d.d,{size:20,color:"#D04D30"})}),"Dashboard"]})}):null,Object(O.jsx)(u.c,{to:"/depots",className:"layout_main__button",children:Object(O.jsxs)("h6",{children:[Object(O.jsx)("span",{className:"layout_main__links--span",children:Object(O.jsx)(d.a,{})}),"Depots"]})}),!0===this.props.token.is_staff?Object(O.jsx)(u.c,{to:"/sales",className:"layout_main__button",children:Object(O.jsxs)("h6",{children:[Object(O.jsx)("span",{className:"layout_main__links--span",children:Object(O.jsx)(d.i,{})}),"Sales"]})}):null,!0===this.props.token.is_staff?Object(O.jsx)(u.c,{to:"/customers",className:"layout_main__button",children:Object(O.jsxs)("h6",{children:[Object(O.jsx)("span",{className:"layout_main__links--span",children:Object(O.jsx)(d.j,{})}),"Customers"]})}):null,Object(O.jsx)(h.a,{variant:"transparent",className:"layout_main__button layout_main__logout",onClick:this.handleLogOut,children:Object(O.jsxs)("h6",{children:[Object(O.jsx)("span",{className:"layout_main__links--span",children:Object(O.jsx)(d.f,{})}),"Log Out"]})})]})]}),Object(O.jsxs)("div",{className:"layout_main__component",children:[Object(O.jsx)(v,{header_title:this.props.header_title,first_name:this.props.token.data.first_name,last_name:this.props.token.data.last_name}),this.props.children]})]})}}]),r}(i.a.Component),S={USER_LOGGED_OUT_ACTION:f.U};e.a=Object(b.b)((function(t){return{token:t.auth_reducer.token}}),S)(T)}}]);
//# sourceMappingURL=11.28a8e5bf.chunk.js.map