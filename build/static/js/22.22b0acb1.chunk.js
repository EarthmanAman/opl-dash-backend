(this.webpackJsonpopl_frontend=this.webpackJsonpopl_frontend||[]).push([[22],{286:function(t,e,n){"use strict";n.r(e);var r=n(12),o=n(13),i=n(14),s=n(15),a=n(0),c=n.n(a),u=n(88),p=n.n(u),h=n(26),d=n(75),f=n(3),l=function(t,e,n,r,o){for(var i=t,s=[],a=function(t){var a=i.filter((function(n){return n.depot__name===e[t].name})),c=0;c=13===r?a.reduce((function(t,e){return t+e.sum}),0):(c=a.filter((function(t){return t.date__month===r+1}))).length>0?o?c[0].sum:c[0].quantity:0,s.push("Million"===n?Object(d.c)(c/1e6):Object(d.c)(c/1e3))},c=0;c<e.length;c++)a(c);return s},m=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(t){var o;return Object(r.a)(this,n),(o=e.call(this,t)).mapMonths=function(t,e,n){for(var r=t.filter((function(t){return parseInt(t.year)===parseInt(e)}))[0].values.filter((function(t){return parseInt(t.month)===parseInt(n)+1})),o=[],i=0;i<r.length;i++)o.push({name:r[i].name,data:r[i].values});return o},o.state={spinner:!1,series:[],options:{chart:{type:"bar",height:430},plotOptions:{bar:{horizontal:!1,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,offsetX:-6,style:{fontSize:"12px",colors:["#fff"]}},stroke:{show:!0,width:1,colors:["#fff"]},title:{text:o.props.dashboard_metric?"Depots Comparison by Revenue":"Depots Comparison by Quantity"},yaxis:{title:{text:o.props.dashboard_metric?"Kshs (Millions)":"Litres"},min:0},tooltip:{shared:!0,intersect:!1,y:{formatter:o.props.dashboard_metric?function(t){return"Kshs ".concat(t," Millions")}:function(t){return"".concat(t," Litres")}}},xaxis:{categories:[]}}},o}return Object(o.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{id:"chart",children:this.state.spinner?Object(f.jsx)("div",{style:{height:380,position:"relative"},children:Object(f.jsx)(h.a,{spinner:this.state.spinner})}):Object(f.jsx)(p.a,{options:this.state.options,series:this.state.series,type:"bar",height:380})})}}]),n}(c.a.Component);m.getDerivedStateFromProps=function(t,e){var n=[];if(t.update_depot_product_month)return e.spinner=!0,e;e.spinner=!1;for(var r=0;r<t.depot_list.length;r++)n.push(t.depot_list[r].name);return e.series=function(t){for(var e=t.depot_product_month,n=t.depot_product_month_month,r=t.depot_product_month_year,o=t.depot_list,i=t.currency_type,s=null,a=[],c=(parseInt(r),parseInt(n)),u=0;u<e.length;u++){s=e[u].revenue;var p=l(s,o,i,c,t.dashboard_metric);a.push({name:e[u].name,data:p})}return a}(t),e.options.xaxis.categories=n,e.options.yaxis.title.text=t.dashboard_metric?"Kshs (".concat(t.currency_type,")"):"Litres (".concat(t.currency_type,")"),e.options.tooltip.y.formatter=t.dashboard_metric?function(e){return"Kshs ".concat(e).concat(Object(d.b)(t.currency_type))}:function(e){return"".concat(e).concat(Object(d.b)(t.currency_type)," Litres")},e},e.default=m},75:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i}));var r=function(t,e){return t.setMonth(t.getMonth()+e),t},o=function(t){return"Million"===t?"m":"k"},i=function(t){return parseFloat(t.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0])}}}]);
//# sourceMappingURL=22.22b0acb1.chunk.js.map