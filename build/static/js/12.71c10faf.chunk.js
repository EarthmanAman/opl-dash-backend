(this.webpackJsonpopl_frontend=this.webpackJsonpopl_frontend||[]).push([[12,5],{139:function(t,e,n){},140:function(t,e,n){},141:function(t,e,n){},172:function(t,e,n){"use strict";var r=n(60),a=n(12),c=n(13),o=n(14),s=n(15),i=n(61),u=n.n(i),l=n(0),p=n.n(l),d=n(111),h=n(25),m=n(81),_=n(124),j=n(109);function b(t){return Object(j.a)({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M327.027 65.816L229.79 128.23l9.856 5.397 86.51-55.53 146.735 83.116-84.165 54.023 4.1 2.244v6.848l65.923-42.316 13.836 7.838-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l100.033-64.21-24.828-14.062 24.827-15.937-24.828-14.064 24.827-15.937-23.537-13.333 23.842-15.305-166.135-94.106zm31.067 44.74c-21.038 10.556-49.06 12.342-68.79 4.383l-38.57 24.757 126.903 69.47 36.582-23.48c-14.41-11.376-13.21-28.35 2.942-41.67l-59.068-33.46zM227.504 147.5l-70.688 46.094 135.61 78.066 1.33-.85c2.5-1.61 6.03-3.89 10.242-6.613 8.42-5.443 19.563-12.66 30.674-19.86 16.002-10.37 24.248-15.72 31.916-20.694L227.504 147.5zm115.467 1.17a8.583 14.437 82.068 0 1 .003 0 8.583 14.437 82.068 0 1 8.32 1.945 8.583 14.437 82.068 0 1-.87 12.282 8.583 14.437 82.068 0 1-20.273 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.237zm-218.423 47.115L19.143 263.44l23.537 13.333-23.842 15.305 24.828 14.063-24.828 15.938 24.828 14.063-24.828 15.938 166.135 94.106L285.277 381.8V370.08l-99.433 63.824L39.11 350.787l14.255-9.15 131.608 74.547L285.277 351.8V340.08l-99.433 63.824L39.11 320.787l14.255-9.15 131.608 74.547L285.277 321.8V310.08l-99.433 63.824L39.11 290.787l13.27-8.52 132.9 75.28 99.997-64.188v-5.05l-5.48-3.154-93.65 60.11-146.73-83.116 94.76-60.824-9.63-5.543zm20.46 11.78l-46.92 30.115c14.41 11.374 13.21 28.348-2.942 41.67l59.068 33.46c21.037-10.557 49.057-12.342 68.787-4.384l45.965-29.504-123.96-71.358zm229.817 32.19c-8.044 5.217-15.138 9.822-30.363 19.688-11.112 7.203-22.258 14.42-30.69 19.873-4.217 2.725-7.755 5.01-10.278 6.632-.09.06-.127.08-.215.137v85.924l71.547-48.088v-84.166zm-200.99 17.48a8.583 14.437 82.068 0 1 8.32 1.947 8.583 14.437 82.068 0 1-.87 12.28 8.583 14.437 82.068 0 1-20.27 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.236z"}}]})(t)}var f=n(112),O=n(410),x=(n(139),n(140),n(141),n(64)),y=n(413),v=n(414),g=n(282),C=n(283),T=n(26),w=n(3),D=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={product:null,customer:null,truck:null,entry_no:"",order_no:"",lpo_no:"",depot:null,date:new Date,vol_obs:null,vol_20:null,selling_price:null,products:[],paid:!0,trucks:[],spinner:!1,success:!1,null_error:!1},t.componentWillReceiveProps=function(){var e=Object(r.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({spinner:!1,success:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.handleCustomerSelect=function(e){var n=t.props.customers[parseInt(e)];t.setState({customer:n.id,trucks:n.trucks})},t.onSubmit=function(){var e=Object(r.a)(u.a.mark((function e(n){var r,a,c,o,s,i,l,p,d,h,m,_,j,b,f,O,x;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n.preventDefault(),r=t.state,a=r.product,c=r.lpo_no,o=r.customer,s=r.truck,i=r.depot,l=r.entry_no,p=r.order_no,d=r.date,h=r.vol_obs,m=r.vol_20,_=r.selling_price,j=r.paid,b=[a,o,s,c,i,l,p,d,h,m,_],f=!1,O=0;O<b.length;O++)null!==b[O]&&""!==b[O]&&void 0!==b[O]||(f=!0);if(!f){e.next=9;break}t.setState({null_error:!0}),e.next=13;break;case 9:return t.setState({spinner:!0}),x=t.props.sales_date,e.next=13,t.props.SALES_CREATE_ACTION(x.start_date,x.end_date,a,c,o,s,i,l,p,d,h,m,_,j);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(c.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.date,r=e.trucks,a=this.props,c=a.depots,o=a.customers,s=a.products;return Object(w.jsxs)("div",{className:"upload-form",children:[this.state.spinner?Object(w.jsx)(T.a,{spinner:this.state.spinner}):null,Object(w.jsx)("h4",{className:"upload-title",children:"Fill the information"}),this.state.success?Object(w.jsx)(y.a,{variant:"success",size:"sm",children:"Entry Created successful"}):null,this.state.null_error?Object(w.jsx)(y.a,{variant:"danger",size:"sm",children:"All the fields must be field"}):null,Object(w.jsxs)(v.a,{onSubmit:this.onSubmit,children:[Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Date"}),Object(w.jsx)(v.a.Control,{type:"date",placeholder:"Date",size:"sm",value:n,onChange:function(e){return t.setState({date:e.target.value})}})]}),Object(w.jsxs)(g.a,{style:{marginTop:0,height:"auto"},children:[Object(w.jsx)(C.a,{children:Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Depot"}),Object(w.jsxs)(v.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.setState({depot:e.target.value})},children:[Object(w.jsx)("option",{children:"Select"}),c.map((function(t,e){return Object(w.jsx)("option",{value:t.id,children:t.name})}))]})]})}),Object(w.jsx)(C.a,{children:Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Customer"}),Object(w.jsxs)(v.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleCustomerSelect(e.target.value)},children:[Object(w.jsx)("option",{children:"Select"}),o.map((function(t,e){return Object(w.jsx)("option",{value:e,children:t.name})}))]})]})}),Object(w.jsx)(C.a,{children:Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Truck"}),Object(w.jsxs)(v.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.setState({truck:e.target.value})},children:[Object(w.jsx)("option",{children:"Select"}),r.map((function(t){return Object(w.jsxs)("option",{value:t.id,children:[t.plate_no," - ",t.driver.first_name]})}))]})]})})]}),Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Product"}),Object(w.jsxs)(v.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.setState({product:e.target.value})},children:[Object(w.jsx)("option",{children:"Select"}),s.map((function(t){return Object(w.jsx)("option",{value:t.id,children:t.name})}))]})]}),Object(w.jsx)("h6",{className:"upload-form__details",children:"Details"}),Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Order No"}),Object(w.jsx)(v.a.Control,{type:"text",placeholder:"Order No",size:"sm",onChange:function(e){return t.setState({order_no:e.target.value})}})]}),Object(w.jsxs)(g.a,{style:{marginTop:0,height:"auto"},children:[Object(w.jsx)(C.a,{children:Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Lpo no"}),Object(w.jsx)(v.a.Control,{type:"text",placeholder:"Lpo no",size:"sm",onChange:function(e){return t.setState({lpo_no:e.target.value})}})]})}),Object(w.jsx)(C.a,{children:Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Entry no"}),Object(w.jsx)(v.a.Control,{type:"text",placeholder:"Entry No",size:"sm",onChange:function(e){return t.setState({entry_no:e.target.value})}})]})})]}),Object(w.jsxs)(g.a,{style:{marginTop:0,height:"auto"},children:[Object(w.jsx)(C.a,{children:Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Vol OBS"}),Object(w.jsx)(v.a.Control,{type:"text",placeholder:"Vol OBS",size:"sm",onChange:function(e){return t.setState({vol_obs:e.target.value})}})]})}),Object(w.jsx)(C.a,{children:Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Vol@20"}),Object(w.jsx)(v.a.Control,{type:"text",placeholder:"Vol@20",size:"sm",onChange:function(e){return t.setState({vol_20:e.target.value})}})]})})]}),Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Selling Price"}),Object(w.jsx)(v.a.Control,{type:"text",placeholder:"Selling price",size:"sm",onChange:function(e){return t.setState({selling_price:e.target.value})}})]}),Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Paid"}),Object(w.jsxs)("div",{className:"mb-3",children:[Object(w.jsx)(v.a.Check,{inline:!0,label:"Yes",name:"group1",type:"radio",id:"inline-radio-1",onClick:function(){return t.setState({paid:!0})}}),Object(w.jsx)(v.a.Check,{inline:!0,label:"No",name:"group1",type:"radio",id:"inline-radio-2",onClick:function(){return t.setState({paid:!1})}})]},"inline-radio")]}),Object(w.jsx)("div",{align:"center",children:Object(w.jsx)(O.a,{variant:"primary",type:"submit",children:"Upload"})})]})]})}}]),n}(p.a.Component),N={SALES_CREATE_ACTION:x.t},S=Object(h.b)((function(t){return{depots:t.list_reducer.depot_list?t.list_reducer.depot_list:[],products:t.list_reducer.product_list?t.list_reducer.product_list:[],customers:t.list_reducer.customer_list?t.list_reducer.customer_list:[],sales_list:t.list_reducer.sales_list?t.list_reducer.sales_list:[],sales_date:t.update_reducer.sales_date}}),N)(D),k=n(30),A=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={name:"",location:"",spinner:!1,success:!1,null_error:!1,show_errors:!1,customer_list:t.props.customer_list},t.onSubmit=function(){var e=Object(r.a)(u.a.mark((function e(n){var r,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=t.state,a=r.name,c=r.location,""!==a&&""!==c){e.next=6;break}t.setState({null_error:!0}),e.next=9;break;case 6:return t.setState({spinner:!0}),e.next=9,t.props.CUSTOMER_CREATE_ACTION(a,c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(w.jsxs)("div",{className:"upload-form",children:[this.state.spinner?Object(w.jsx)("div",{className:"spinner",children:Object(w.jsx)(k.b,{color:"#00BFFF",height:100,width:100,timeout:4e3,visible:this.state.spinner})}):null,Object(w.jsx)("h4",{children:"Create Customer"}),this.state.success?Object(w.jsx)(y.a,{variant:"success",size:"sm",children:"Customer created successful"}):null,this.state.null_error?Object(w.jsx)(y.a,{variant:"danger",size:"sm",children:"The fields cannot be empty"}):null,Object(w.jsxs)(v.a,{onSubmit:this.onSubmit,id:"sub",children:[Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Customer name"}),Object(w.jsx)(v.a.Control,{type:"text",placeholder:"Name",size:"sm",value:this.state.name,onChange:function(e){return t.setState({name:e.target.value,success:!1,null_error:!1,show_errors:!1})}})]}),Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Code"}),Object(w.jsx)(v.a.Control,{type:"text",placeholder:"Name",size:"sm",value:this.state.location,onChange:function(e){return t.setState({location:e.target.value,success:!1,null_error:!1,show_errors:!1})}})]}),Object(w.jsx)("div",{children:Object(w.jsx)(O.a,{variant:"primary",type:"submit",size:"sm",id:"add_customer",children:"Create"})})]})]})}}]),n}(p.a.Component);A.getDerivedStateFromProps=function(){var t=Object(r.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e.customer_list){t.next=4;break}return t.abrupt("return",null);case 4:(void 0===n.customer_list&&void 0!==e.customer_list||e.customer_list.length>n.customer_list.length)&&(n.spinner=!1,n.success=!0,n.null_error=!1);case 5:return n.customer_list=e.customer_list,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();var I={CUSTOMER_CREATE_ACTION:x.c},E=Object(h.b)((function(t){return{customer_list:t.list_reducer.customer_list}}),I)(A),P=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={customer:null,depot:null,spinner:!1,success:!1,null_error:!1,show_errors:!1},t.handleCustomerSelect=function(e){t.setState({customer:e})},t.handleDepotSelect=function(e){t.setState({depot:e})},t.onSubmit=function(){var e=Object(r.a)(u.a.mark((function e(n){var r,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=t.state,a=r.depot,c=r.customer,null!==a&&null!==c){e.next=6;break}t.setState({null_error:!0}),e.next=9;break;case 6:return t.setState({spinner:!0}),e.next=9,t.props.ADD_CUSTOMER_ACTION(a,c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.componentDidMount=Object(r.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.ADD_CUSTOMER_REMOVE_ACTION();case 2:case"end":return e.stop()}}),e)}))),t}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(w.jsxs)("div",{className:"upload-form",children:[this.state.spinner?Object(w.jsx)("div",{className:"spinner",children:Object(w.jsx)(k.b,{color:"#00BFFF",height:100,width:100,timeout:4e3,visible:this.state.spinner})}):null,Object(w.jsx)("h4",{children:"Add Customer"}),this.state.success?Object(w.jsx)(y.a,{variant:"success",size:"sm",children:"Customer Added successfull"}):null,this.state.null_error?Object(w.jsx)(y.a,{variant:"danger",size:"sm",children:"The fields cannot be empty"}):null,this.state.show_errors?Object(w.jsx)(y.a,{variant:"danger",children:"Something went wrong!"}):null,Object(w.jsxs)(v.a,{onSubmit:this.onSubmit,id:"sub",children:[Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Depot"}),Object(w.jsxs)(v.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleDepotSelect(e.target.value)},children:[Object(w.jsx)("option",{children:"Select"}),this.props.depots.map((function(t,e){return Object(w.jsx)("option",{value:t.id,children:t.name})}))]})]}),Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Customer"}),Object(w.jsxs)(v.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleCustomerSelect(e.target.value)},children:[Object(w.jsx)("option",{children:"Select"}),this.props.customers.map((function(t,e){return Object(w.jsx)("option",{value:t.id,children:t.name})}))]})]}),Object(w.jsx)("div",{children:Object(w.jsx)(O.a,{variant:"primary",type:"submit",size:"sm",id:"add_customer",children:"Add"})})]})]})}}]),n}(p.a.Component);P.getDerivedStateFromProps=function(t,e){return void 0!==t.add_customer&&("success"===t.add_customer.status?(e.spinner=!1,e.success=!0,e.null_error=!1):(e.spinner=!1,e.show_errors=!0)),e};var R={ADD_CUSTOMER_ACTION:x.a,ADD_CUSTOMER_REMOVE_ACTION:x.b},M=(Object(h.b)((function(t){return{customers:t.list_reducer.customer_list,depots:t.list_reducer.depot_list,add_customer:t.update_reducer.add_customer}}),R)(P),function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={file:null,spinner:!1,success:!1,show_error:!1,null_error:!1,depot:null},t.componentWillReceiveProps=function(){var e=Object(r.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.upload_excel_error?t.setState({show_error:!0,spinner:!1}):t.setState({spinner:!1,success:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.onSubmit=function(){var e=Object(r.a)(u.a.mark((function e(n){var r,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=t.state,a=r.file,c=r.depot,null!==a&&null!==c){e.next=6;break}t.setState({null_error:!0}),e.next=9;break;case 6:return t.setState({spinner:!0}),e.next=9,t.props.UPLOAD_EXCEL_ACTION(a,c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(w.jsxs)("div",{className:"upload-form",children:[this.state.spinner?Object(w.jsx)("div",{className:"spinner",children:Object(w.jsx)(k.b,{color:"#00BFFF",height:100,width:100,timeout:4e3,visible:this.state.spinner})}):null,Object(w.jsx)("h5",{children:"Upload File"}),this.state.success?Object(w.jsx)(y.a,{variant:"success",size:"sm",children:"File Uploaded successful"}):null,this.state.show_error?Object(w.jsx)(y.a,{variant:"danger",size:"sm",children:this.props.upload_excel_error.message}):null,this.state.null_error?Object(w.jsx)(y.a,{variant:"danger",size:"sm",children:"All the field must be filled"}):null,Object(w.jsxs)(v.a,{onSubmit:this.onSubmit,children:[Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Depot"}),Object(w.jsxs)(v.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.setState({depot:e.target.value})},children:[Object(w.jsx)("option",{children:"Select"}),this.props.depot_list.map((function(t){return Object(w.jsx)("option",{value:t.id,children:t.name})}))]})]}),Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"File"}),Object(w.jsx)(v.a.Control,{type:"file",accept:".xlsx, .xls, .csv",placeholder:"File",size:"sm",onChange:function(e){return t.setState({file:e.target.files[0]})}})]}),Object(w.jsx)("div",{children:Object(w.jsx)(O.a,{variant:"primary",type:"submit",value:this.state.file,size:"sm",children:"Upload"})})]})]})}}]),n}(p.a.Component)),U={UPLOAD_EXCEL_ACTION:x.T},F=Object(h.b)((function(t){return{uploaded_excel:t.update_reducer.uploaded_excel,upload_excel_error:t.update_reducer.upload_excel_error,depot_list:t.list_reducer.depot_list}}),U)(M),z=n(71),L=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={depot:null},t.onSubmit=function(){var e=Object(r.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),r=t.state.depot,window.open("".concat(z.b,"/depot/download/").concat(parseInt(r),"/"),"_blank");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(w.jsxs)("div",{className:"upload-form",children:[Object(w.jsx)("h4",{children:"Download Template"}),Object(w.jsxs)(v.a,{onSubmit:this.onSubmit,children:[Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Depot"}),Object(w.jsxs)(v.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.setState({depot:e.target.value})},children:[Object(w.jsx)("option",{children:"Select"}),this.props.depot_list.map((function(t){return Object(w.jsx)("option",{value:t.id,children:t.name})}))]})]}),Object(w.jsx)("div",{children:Object(w.jsx)(O.a,{variant:"primary",type:"submit",size:"sm",children:"Download"})})]})]})}}]),n}(p.a.Component),G=Object(h.b)((function(t){return{depot_list:t.list_reducer.depot_list}}),{})(L),Y=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={customer:null,customers:[],customer_index:null,plate_no:"",first_name:"",last_name:"",spinner:!1,success:!1,null_error:!1,show_errors:!1,customer_list:t.props.customer_list},t.handleCustomerSelect=function(e){var n=t.props.customers[e];t.setState({customer:n.id,customer_index:e})},t.onSubmit=function(){var e=Object(r.a)(u.a.mark((function e(n){var r,a,c,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=t.state,a=r.customer,c=r.plate_no,o=r.first_name,s=r.last_name,""!==c&&""!=o&&""!=s){e.next=6;break}t.setState({null_error:!0}),e.next=9;break;case 6:return t.setState({spinner:!0}),e.next=9,t.props.TRUCK_CREATE_ACTION(a,c,o,s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(w.jsxs)("div",{className:"upload-form",children:[this.state.spinner?Object(w.jsx)("div",{className:"spinner",children:Object(w.jsx)(k.b,{color:"#00BFFF",height:100,width:100,timeout:4e3,visible:this.state.spinner})}):null,Object(w.jsx)("h4",{children:"Add Truck"}),this.state.success?Object(w.jsx)(y.a,{variant:"success",size:"sm",children:"Truck created successful"}):null,this.state.null_error?Object(w.jsx)(y.a,{variant:"danger",size:"sm",children:"The fields cannot be empty"}):null,Object(w.jsxs)(v.a,{onSubmit:this.onSubmit,id:"sub",children:[Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Customer"}),Object(w.jsxs)(v.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleCustomerSelect(e.target.value)},children:[Object(w.jsx)("option",{children:"Select"}),this.props.customers.map((function(t,e){return Object(w.jsx)("option",{value:e,children:t.name})}))]})]}),Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Plate No"}),Object(w.jsx)(v.a.Control,{type:"text",placeholder:"Name",size:"sm",value:this.state.plate_no,onChange:function(e){return t.setState({plate_no:e.target.value,success:!1,null_error:!1,show_errors:!1})}})]}),Object(w.jsx)("h6",{className:"upload-form__details",children:"Driver"}),Object(w.jsxs)(g.a,{children:[Object(w.jsx)(C.a,{children:Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"First Name"}),Object(w.jsx)(v.a.Control,{type:"text",placeholder:"Name",size:"sm",value:this.state.first_name,onChange:function(e){return t.setState({first_name:e.target.value,success:!1,null_error:!1,show_errors:!1})}})]})}),Object(w.jsx)(C.a,{children:Object(w.jsxs)(v.a.Group,{className:"mb-2",controlId:"exampleForm.ControlInput1",children:[Object(w.jsx)(v.a.Label,{children:"Last Name"}),Object(w.jsx)(v.a.Control,{type:"text",placeholder:"Name",size:"sm",value:this.state.last_name,onChange:function(e){return t.setState({last_name:e.target.value,success:!1,null_error:!1,show_errors:!1})}})]})})]}),Object(w.jsx)("div",{children:Object(w.jsx)(O.a,{variant:"primary",type:"submit",size:"sm",id:"add_customer",children:"Add"})})]})]})}}]),n}(p.a.Component);Y.getDerivedStateFromProps=function(){var t=Object(r.a)(u.a.mark((function t(e,n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null!==n.customer_index&&e.customers[parseInt(n.customer_index)].trucks.length>n.customers[parseInt(n.customer_index)].trucks.length&&(n.spinner=!1,n.success=!0,n.null_error=!1,n.show_errors=!1),n.customers=e.customers,t.abrupt("return",n);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();var H={TRUCK_CREATE_ACTION:x.u},K=Object(h.b)((function(t){return{customers:t.list_reducer.customer_list}}),H)(Y),J=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={startDate:t.props.selection_dates.startDate,endDate:t.props.selection_dates.endDate,dashboard_metric:t.props.dashboard_metric,key:"selection"},t.handleMetricChange=function(){var e=Object(r.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("revenue"!==n){e.next=5;break}return e.next=3,t.props.UPDATE_DASHBOARD_METRIC_ACTION(!0);case 3:e.next=7;break;case 5:return e.next=7,t.props.UPDATE_DASHBOARD_METRIC_ACTION(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.handleSelect=function(){var e=Object(r.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.props.depot_list[parseInt(t.props.depot)].id,t.setState({startDate:n.selection.startDate,endDate:n.selection.endDate}),e.next=4,t.props.UPDATE_SELECTION_DATES_ACTION({startDate:n.selection.startDate,endDate:n.selection.endDate});case 4:return e.next=6,t.props.GET_PRODUCT_SERIES_ACTION(n.selection.startDate,n.selection.endDate);case 6:return e.next=8,t.props.UPDATE_PRODUCT_SERIES_ACTION();case 8:return e.next=10,t.props.GET_DEPOT_SERIES_ACTION(r,n.selection.startDate,n.selection.endDate);case 10:return e.next=12,t.props.GET_DEPOT_PRODUCT_SERIES_ACTION(r,n.selection.startDate,n.selection.endDate);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(w.jsxs)("div",{className:"buttons",children:[Object(w.jsx)(d.a,{trigger:Object(w.jsx)(O.a,{className:"input-dates",size:"sm",children:Object(w.jsxs)("div",{className:"input-dates__input-display",children:[Object(w.jsx)("span",{children:Object(w.jsx)(m.b,{color:"#D04D30",size:18})}),this.state.startDate.toDateString()," - ",this.state.endDate.toDateString(),Object(w.jsx)("span",{children:Object(w.jsx)(m.e,{size:18})})]})}),position:"bottom",children:Object(w.jsx)(f.DateRangePicker,{onChange:this.handleSelect,showSelectionPreview:!0,moveRangeOnFirstSelection:!1,months:2,ranges:[this.state],direction:"horizontal",preventSnapRefocus:!0,calendarFocus:"backwards",className:"input-date__date-range"})}),Object(w.jsxs)("div",{className:"metrics",children:[Object(w.jsxs)(O.a,{variant:this.state.dashboard_metric?"info":"secondary",size:"sm",className:"metrics__add-button",style:{color:"black"},onClick:function(){return t.handleMetricChange("revenue")},children:[Object(w.jsx)(b,{color:"green",size:20}),"Revenue"]}),Object(w.jsxs)(O.a,{variant:!1===this.state.dashboard_metric?"info":"secondary",size:"sm",className:"metrics__add-button",style:{color:"black"},onClick:function(){return t.handleMetricChange("quantities")},children:[Object(w.jsx)(m.g,{color:"orange",size:20}),"Quantities"]})]}),Object(w.jsxs)("div",{className:"form",children:[Object(w.jsx)(d.a,{contentStyle:{width:300},trigger:Object(w.jsxs)(O.a,{variant:"secondary",size:"sm",className:"form__add-button",style:{color:"black"},children:[Object(w.jsx)(m.c,{color:"green",size:20}),"Template"]}),position:"bottom",children:Object(w.jsx)(G,{})}),Object(w.jsx)(d.a,{contentStyle:{width:300},trigger:Object(w.jsxs)(O.a,{variant:"secondary",size:"sm",className:"form__add-button",style:{color:"black"},children:[Object(w.jsx)(_.a,{color:"green",size:20}),"Upload"]}),position:"bottom center",children:Object(w.jsx)(F,{})}),Object(w.jsx)(d.a,{contentStyle:{width:300},trigger:Object(w.jsxs)(O.a,{variant:"info",size:"sm",className:"form__add-button",children:[Object(w.jsx)(m.h,{color:"#e9e7ec",size:20}),"Customer"]}),position:"bottom center",children:Object(w.jsx)(E,{})}),Object(w.jsx)(d.a,{contentStyle:{width:300},trigger:Object(w.jsxs)(O.a,{variant:"info",size:"sm",className:"form__add-button",children:[Object(w.jsx)(m.h,{color:"#e9e7ec",size:20}),"Truck"]}),position:"bottom center",children:Object(w.jsx)(K,{})}),Object(w.jsx)(d.a,{contentStyle:{width:500,minHeight:400},trigger:Object(w.jsxs)(O.a,{variant:"primary",size:"sm",className:"form__add-button",children:[Object(w.jsx)(m.h,{color:"#e9e7ec",size:20}),"Add Order"]}),position:"left top",children:Object(w.jsx)(S,{})})]})]})}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.selection_dates,r=t.dashboard_metric;return n.startDate,e.startDate=new Date("".concat(n.startDate)),e.endDate=new Date("".concat(n.endDate)),e.dashboard_metric=r,e}}]),n}(p.a.Component),B={UPDATE_DASHBOARD_METRIC_ACTION:x.x,UPDATE_SELECTION_DATES_ACTION:x.O,GET_PRODUCT_SERIES_ACTION:x.n,GET_DEPOT_SERIES_ACTION:x.k,GET_DEPOT_PRODUCT_SERIES_ACTION:x.j,UPDATE_PRODUCT_SERIES_ACTION:x.M};e.a=Object(h.b)((function(t){return{selection_dates:t.update_reducer.selection_dates,dashboard_metric:t.update_reducer.dashboard_metric,depot:t.update_reducer.depot,depot_list:t.list_reducer.depot_list}}),B)(J)},415:function(t,e,n){"use strict";n.r(e);var r=n(60),a=n(12),c=n(13),o=n(14),s=n(15),i=n(61),u=n.n(i),l=n(0),p=n.n(l),d=n(25),h=n(2),m=n(172),_=n(91),j=n(282),b=n(283),f=n(88),O=n.n(f),x=n(71),y=n(26),v=n(76),g=n(3),C=function(t,e){var n=new Array(12).fill(0);for(var r in t){var a=t[r];n[a.date__month-1]="Million"===e?Object(v.c)(a.sum/1e6):Object(v.c)(a.sum/1e3)}return n},T=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t){var r;Object(a.a)(this,n),r=e.call(this,t);var c=(new Date).getFullYear();return r.state={spinner:!1,series:[],options:{chart:{type:"bar",height:350},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},dataLabels:{enabled:!1},title:{text:r.props.dashboard_metric?"".concat(c," Products Trends by Month's Revenue"):"".concat(c," Products Trends by Month's Quantity"),align:"left"},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:x.a},yaxis:{title:{text:r.props.dashboard_metric?"Kshs (Millions)":"Litres"}},fill:{opacity:1},tooltip:{y:{formatter:r.props.dashboard_metric?function(t){return"Kshs ".concat(t," Millions")}:function(t){return"".concat(t," Litres")}}}}},r}return Object(c.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{id:"chart",style:{marginTop:20},children:this.state.spinner?Object(g.jsxs)("div",{style:{height:350,position:"relative"},children:[Object(g.jsx)(y.a,{spinner:this.state.spinner})," "]}):Object(g.jsx)(O.a,{options:this.state.options,series:this.state.series,type:"bar",height:350})})}}]),n}(p.a.Component);T.getDerivedStateFromProps=function(t,e){var n=t.product_month,r=t.product_month_year;if(!0===t.update_product_month)return e.spinner=!0,e;e.spinner=!1;for(var a=[],c=0;c<n.length;c++){var o=n[c];a=a.concat({name:o.name,data:t.dashboard_metric?C(o.revenue,t.currency_type):C(o.quantity,t.currency_type)})}return e.series=a,e.options.title.text=t.dashboard_metric?"".concat(r," Products Trends by Month's Revenue"):"".concat(r," Products Trends by Month's Quantity"),e.options.yaxis.title.text=t.dashboard_metric?"Kshs (".concat(t.currency_type,")"):"Litres (".concat(t.currency_type,")"),e.options.tooltip.y.formatter=t.dashboard_metric?function(e){return"Kshs ".concat(e).concat(Object(v.b)(t.currency_type))}:function(e){return"".concat(e).concat(Object(v.b)(t.currency_type)," Litres")},e};var w=T,D=n(126),N=n.n(D),S=function(t,e){for(var n=[],r=0;r<t.length;r++)n.push([t[r].timestamp,"Million"===e?Object(v.c)(t[r].sum/1e6):Object(v.c)(t[r].sum/1e3)]);return n},k=function(t,e){for(var n=t.product_series,r=[],a=0;a<n.length;a++){var c=t.dashboard_metric?n[a].revenue:n[a].quantity,o=S(c,e);r=r.concat({name:n[a].name,data:o})}return r},A=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).state={currency_type:r.props.currency_type,selection_dates:r.props.selection_dates,product_series:r.props.product_series,spinner:!1,series:[],options:{chart:{id:"area-datetime",type:"area",height:400,zoom:{autoScaleYaxis:!1}},title:{text:r.props.dashboard_metric?"Revenue":"Quantities"},annotations:{xaxis:[{x:new Date("".concat(r.props.selection_dates.startDate)).getTime(),borderColor:"#999",yAxisIndex:0}]},dataLabels:{enabled:!0},markers:{size:0,style:"hollow"},xaxis:{type:"datetime",tickAmount:5},yaxis:{title:{text:r.props.dashboard_metric?"Kshs (".concat(r.props.currency_type,")"):"Litres (".concat(r.props.currency_type,")")},min:0},tooltip:{y:{formatter:r.props.dashboard_metric?function(t){return"Kshs ".concat(t," Millions")}:function(t){return"".concat(t," Litres")}}}},selection:"one_month"},r}return Object(c.a)(n,[{key:"render",value:function(){try{N.a.exec("area-datetime","zoomX",new Date("".concat(this.state.selection_dates.startDate)).getTime(),new Date("".concat(this.state.selection_dates.endDate)).getTime())}catch(t){}return Object(g.jsx)("div",{id:"chart-timeline",children:this.state.spinner?Object(g.jsxs)("div",{style:{height:400,position:"relative"},children:[" ",Object(g.jsx)(y.a,{spinner:this.state.spinner})]}):Object(g.jsx)(O.a,{options:this.state.options,series:this.state.series,type:"area",height:400})})}}]),n}(p.a.Component);A.getDerivedStateFromProps=function(){var t=Object(r.a)(u.a.mark((function t(e,n){var r,a,c,o,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.dashboard_metric,a=e.selection_dates,c=e.currency_type,!0!==e.update_product_series){t.next=4;break}return n.spinner=!0,t.abrupt("return",n);case 4:return n.spinner=!1,"string"===typeof a.startDate&&(a.startDate=new Date("".concat(a.startDate)),a.endDate=new Date("".concat(a.endDate))),o=k(e,c),n.currency_type=e.currency_type,n.series=o,n.options.title.text=r?"Revenue":"Quantities",s=c,n.options.yaxis.title.text=r?"Kshs (".concat(s,")"):"Litres (".concat(s,")"),n.options.tooltip.y.formatter=r?function(t){return"Kshs ".concat(t).concat(Object(v.b)(c))}:function(t){return"".concat(t).concat(Object(v.b)(c)," Litres")},n.selection_dates=a,n.product_series=e.product_series,t.abrupt("return",n);case 16:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();var I=A,E=n(414),P=n(64),R=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={year:t.props.product_month_year},t.handleYearChange=function(){var e=Object(r.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.UPDATE_PRODUCT_MONTH_ACTION();case 2:return e.next=4,t.props.UPDATE_PRODUCT_MONTH_YEAR_ACTION(n);case 4:return e.next=6,t.props.GET_PRODUCT_MONTH_ACTION(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(g.jsx)("div",{children:Object(g.jsxs)(E.a.Group,{className:"mb-4 pie-select__child",controlId:"exampleForm.ControlInput1",children:[Object(g.jsx)(E.a.Label,{children:"Year"}),Object(g.jsxs)(E.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleYearChange(e.target.value)},children:[Object(g.jsx)("option",{children:this.state.year}),[2022,2021].map((function(e,n){return parseInt(t.state.year)===e?null:Object(g.jsx)("option",{value:e,children:e},n)}))]})]})})}}]),n}(p.a.Component);R.getDerivedStateFromProps=function(t,e){return e.year=t.product_month_year,e};var M={UPDATE_PRODUCT_MONTH_YEAR_ACTION:P.L,GET_PRODUCT_MONTH_ACTION:P.m,UPDATE_PRODUCT_MONTH_ACTION:P.K},U=Object(d.b)((function(t){return{product_month_year:t.update_reducer.product_month_year}}),M)(R),F=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:13,n=arguments.length>2?arguments[2]:void 0,r=[0,0,0,0,0,0,0,0,0,0,0,0],a=0,c=0;c<t.length;c++){var o=t[c];r[o.date__month-1]="Million"===n?Object(v.c)(o.sum/1e6):Object(v.c)(o.sum/1e3),a+=o.sum}return 13===e?"Million"===n?Object(v.c)(a/1e6):Object(v.c)(a/1e3):r[e]},z=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).state={spinner:!1,series:[],options:{chart:{width:180,type:"donut"},labels:[],plotOptions:{pie:{startAngle:-90,endAngle:270}},dataLabels:{enabled:!0},fill:{type:"gradient"},tooltip:{y:{formatter:r.props.dashboard_metric?function(t){return"Kshs ".concat(t," Millions")}:function(t){return"".concat(t," Litres")}}},title:{text:r.props.dashboard_metric?"Depots Comparison by Revenue":"Depots Comparison by Quantity"},responsive:[{breakpoint:480,options:{chart:{width:200}}}]}},r}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state.series.reduce((function(t,e){return t+e}),0);return Object(g.jsx)("div",{id:"chart",children:this.state.spinner?Object(g.jsx)("div",{style:{position:"relative",height:350},children:Object(g.jsx)(y.a,{spinner:this.state.spinner})}):Object(g.jsx)("div",{children:0===t?Object(g.jsx)("p",{className:"no-data",children:"No data for this year this month. Select another month or switch years"}):Object(g.jsx)(O.a,{options:this.state.options,series:this.state.series,type:"donut",width:400})})})}}]),n}(p.a.Component);z.getDerivedStateFromProps=function(t,e){var n=t.depot_month,r=[],a=[],c=(parseInt(t.depot_month_year),parseInt(t.depot_month_month));if(t.update_depot_month)return e.spinner=!0,e;e.spinner=!1;for(var o=0;o<n.length;o++){var s=n[o];r.push(s.name),s=t.dashboard_metric?s.revenue:s.quantity,a.push(F(s,c,t.currency_type))}return e.series=a,e.options.labels=r,e.options.title.text=t.dashboard_metric?"Depots Comparison by Revenue":"Depots Comparison by Quantity",e.options.tooltip.y.formatter=t.dashboard_metric?function(e){return"Kshs ".concat(e).concat(Object(v.b)(t.currency_type))}:function(e){return"".concat(e).concat(Object(v.b)(t.currency_type)," Litres")},e};var L=z,G=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={year:t.props.depot_month_year,month:t.props.depot_month_month},t.handleYearChange=function(){var e=Object(r.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.UPDATE_DEPOT_MONTH_ACTION();case 2:return e.next=4,t.props.UPDATE_DEPOT_MONTH_YEAR_ACTION(n);case 4:return e.next=6,t.props.GET_DEPOT_MONTH_ACTION(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.handleMonthChange=function(){var e=Object(r.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.UPDATE_DEPOT_MONTH_MONTH_ACTION(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(c.a)(n,[{key:"render",value:function(){var t=this,e=["January","February","March","April","May","June","July","August","September","October","November","December"];return Object(g.jsxs)("div",{className:"pie-select",children:[Object(g.jsxs)(E.a.Group,{className:"mb-4 pie-select__child",controlId:"exampleForm.ControlInput1",children:[Object(g.jsx)(E.a.Label,{children:"Year"}),Object(g.jsxs)(E.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleYearChange(e.target.value)},children:[Object(g.jsx)("option",{children:this.state.year}),[2022,2021].map((function(e,n){return parseInt(t.state.year)===e?null:Object(g.jsx)("option",{value:e,children:e},n)}))]})]}),Object(g.jsxs)(E.a.Group,{className:"mb-4 pie-select__child",controlId:"exampleForm.ControlInput1",children:[Object(g.jsx)(E.a.Label,{children:"Month"}),Object(g.jsxs)(E.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleMonthChange(e.target.value)},children:[13===parseInt(this.state.month)?null:Object(g.jsx)("option",{value:this.state.month,children:e[parseInt(this.state.month)]}),Object(g.jsx)("option",{value:13,children:"All"}),e.map((function(e,n){return parseInt(t.state.month)===n?null:Object(g.jsx)("option",{value:n,children:e},n)}))]})]})]})}}]),n}(p.a.Component);G.getDerivedStateFromProps=function(t,e){return e.year!==t.depot_month_year||e.month!==t.depot_month_month?(e.year=t.depot_month_year,e.month=t.depot_month_month,e):null};var Y={UPDATE_DEPOT_MONTH_MONTH_ACTION:P.D,UPDATE_DEPOT_MONTH_YEAR_ACTION:P.E,GET_DEPOT_MONTH_ACTION:P.h,UPDATE_DEPOT_MONTH_ACTION:P.C},H=Object(d.b)((function(t){return{depot_month_month:t.update_reducer.depot_month_month,depot_month_year:t.update_reducer.depot_month_year}}),Y)(G),K=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(g.jsxs)("div",{className:"charts-section",children:[Object(g.jsx)(j.a,{children:Object(g.jsx)(b.a,{children:Object(g.jsx)("div",{className:"chart-area",children:Object(g.jsx)(I,{product_series:this.props.product_series,selection_dates:this.props.selection_dates,dashboard_metric:this.props.dashboard_metric,currency_type:this.props.currency_type,update_product_series:this.props.update_product_series})})})}),Object(g.jsxs)(j.a,{children:[Object(g.jsx)(b.a,{xs:7,children:Object(g.jsxs)("div",{className:"chart-area",children:[Object(g.jsx)(U,{}),Object(g.jsx)(w,{product_month:this.props.product_month,dashboard_metric:this.props.dashboard_metric,currency_type:this.props.currency_type,product_month_year:this.props.product_month_year,update_product_month:this.props.update_product_month})]})}),Object(g.jsx)(b.a,{xs:5,children:Object(g.jsxs)("div",{className:"chart-area",children:[Object(g.jsx)(H,{}),Object(g.jsx)(L,{depot_month:this.props.depot_month,dashboard_metric:this.props.dashboard_metric,depot_month_month:this.props.depot_month_month,depot_month_year:this.props.depot_month_year,currency_type:this.props.currency_type,update_depot_month:this.props.update_depot_month})]})})]})]})}}]),n}(p.a.Component),J=K,B=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={year:t.props.top_customer_year,month:parseInt(t.props.top_customer_month),product_list:t.props.product_list,product:t.props.top_customer_product},t.handleChange=function(){var e=Object(r.a)(u.a.mark((function e(n,r,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.UPDATE_TOP_CUSTOMER_ACTION();case 2:if("All"!==a||13!==r){e.next=7;break}return e.next=5,t.props.GET_TOP_CUSTOMER_ACTION(n,"False");case 5:case 10:case 15:e.next=20;break;case 7:if("All"!==a||13===r){e.next=12;break}return e.next=10,t.props.GET_TOP_CUSTOMER_ACTION(n,"True");case 12:if("All"===a||13!==r){e.next=17;break}return e.next=15,t.props.GET_PRODUCT_TOP_CUSTOMER_ACTION(n,"False");case 17:if("All"===a||13===r){e.next=20;break}return e.next=20,t.props.GET_PRODUCT_TOP_CUSTOMER_ACTION(n,"True");case 20:return e.next=22,t.props.UPDATE_TOP_CUSTOMER_YEAR_ACTION(n);case 22:return e.next=24,t.props.UPDATE_TOP_CUSTOMER_MONTH_ACTION(r);case 24:return e.next=26,t.props.UPDATE_TOP_CUSTOMER_PRODUCT_ACTION(a);case 26:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),t}return Object(c.a)(n,[{key:"render",value:function(){var t=this,e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=this.state.product_list,r=this.state,a=r.year,c=r.month,o=r.product;return Object(g.jsxs)("div",{className:"pie-select",children:[Object(g.jsxs)(E.a.Group,{className:"mb-4 pie-select__child",controlId:"exampleForm.ControlInput1",children:[Object(g.jsx)(E.a.Label,{children:"Year"}),Object(g.jsxs)(E.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleChange(e.target.value,c,o)},children:[Object(g.jsx)("option",{children:this.state.year}),[2022,2021].map((function(e,n){return parseInt(t.state.year)===e?null:Object(g.jsx)("option",{value:e,children:e},n)}))]})]}),Object(g.jsxs)(E.a.Group,{className:"mb-4 pie-select__child",controlId:"exampleForm.ControlInput1",children:[Object(g.jsx)(E.a.Label,{children:"Month"}),Object(g.jsxs)(E.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleChange(a,e.target.value,o)},children:[13===this.state.month?null:Object(g.jsx)("option",{value:this.state.month,children:e[parseInt(this.state.month)]}),Object(g.jsx)("option",{value:13,children:"All"}),e.map((function(e,n){return parseInt(t.state.month)===n?null:Object(g.jsx)("option",{value:n,children:e},n)}))]})]}),Object(g.jsxs)(E.a.Group,{className:"mb-4 pie-select__child",controlId:"exampleForm.ControlInput1",children:[Object(g.jsx)(E.a.Label,{children:"Product"}),Object(g.jsxs)(E.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleChange(a,c,e.target.value)},children:[Object(g.jsx)("option",{children:"All"===this.state.product?"All":this.state.product}),"All"===this.state.product?null:Object(g.jsx)("option",{value:"All",children:"All"}),n.map((function(e,n){return t.state.product===e.name?null:Object(g.jsx)("option",{value:e.name,children:e.name},n)}))]})]})]})}}]),n}(p.a.Component);B.getDerivedStateFromProps=function(t,e){return e.year=t.top_customer_year,e.month=parseInt(t.top_customer_month),e.product=t.top_customer_product,e.product_list=t.product_list,e};var Q={UPDATE_TOP_CUSTOMER_MONTH_ACTION:P.Q,UPDATE_TOP_CUSTOMER_YEAR_ACTION:P.S,UPDATE_TOP_CUSTOMER_PRODUCT_ACTION:P.R,GET_TOP_CUSTOMER_ACTION:P.s,GET_PRODUCT_TOP_CUSTOMER_ACTION:P.o,UPDATE_TOP_CUSTOMER_ACTION:P.P},q=Object(d.b)((function(t){return{top_customer_month:t.update_reducer.top_customer_month,top_customer_year:t.update_reducer.top_customer_year,top_customer_product:t.update_reducer.top_customer_product,product_list:t.list_reducer.product_list?t.list_reducer.product_list:[]}}),Q)(B),V=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={customers:[],metric:t.props.dashboard_metric,spinner:!1},t.numberWithCommas=function(t){try{return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}catch(e){return t}},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return Object(g.jsxs)("div",{className:"chart-area top-customers",children:[Object(g.jsx)(q,{}),this.state.spinner?Object(g.jsxs)("div",{style:{position:"relative",height:350},children:[Object(g.jsx)(y.a,{spinner:this.state.spinner})," "]}):Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"top-customers__top",children:[Object(g.jsx)("h6",{style:{marginLeft:20},children:"Top Customers"}),Object(g.jsxs)("div",{className:"legends",children:[Object(g.jsx)("div",{className:"legend-item"}),Object(g.jsx)("div",{className:"legend-item"})]})]}),Object(g.jsxs)(j.a,{className:"top_customers__customer-row",children:[this.state.customers.slice(0,8).map((function(e,n){return Object(g.jsx)(b.a,{xs:3,children:Object(g.jsxs)("div",{className:"top-customer",children:[Object(g.jsx)("div",{className:"top-customer__total",children:Object(g.jsxs)("h5",{className:"top-customer__amount",children:[t.state.dashboard_metric?"Kshs.":"Litres."," ",t.numberWithCommas(e.sum)]})}),Object(g.jsxs)("div",{className:"top-customer__info",children:[Object(g.jsx)("div",{className:"top-customer__profile"}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h6",{className:"top-customer__name",children:e.customer__name}),Object(g.jsx)("p",{className:"top-customer__location",children:e.location})]})]})]})},n)})),0===this.state.customers.length?Object(g.jsx)("p",{className:"no-data",children:"No data for this year this month. Select another month or switch years"}):null]})]})]})}}]),n}(p.a.Component);V.getDerivedStateFromProps=function(t,e){if(t.update_top_customer)return e.spinner=!0,e;e.spinner=!1;var n=function(t){var e=null,n=[],r=t.top_customer_month;return"All"!==t.top_customer_product?(e=t.product_top_customer.filter((function(e){return e.name===t.top_customer_product}))[0],n=13===r?t.dashboard_metric?e.revenue:e.quantity:(e=t.dashboard_metric?e.revenue:e.quantity)[parseInt(r)].customers):(e=t.dashboard_metric?t.top_customer.revenue:t.top_customer.quantity,n=13===parseInt(r)?e:e[parseInt(r)].customers),n}(t);return e.customers=n,e.dashboard_metric=t.dashboard_metric,e};var W=V,X=function(t){Object(o.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={redirect:!1,currency_type:t.props.currency_type,spinner:!1},t.componentDidMount=Object(r.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({spinner:!0}),n=t.props.selection_dates.endDate,r=t.props.selection_dates.startDate,e.next=5,t.props.GET_PRODUCT_SERIES_ACTION(r,n);case 5:return e.next=7,t.props.GET_PRODUCT_MONTH_ACTION(t.props.product_month_year);case 7:return e.next=9,t.props.GET_DEPOT_MONTH_ACTION(t.props.depot_month_year);case 9:if(13!==t.props.top_customer_month){e.next=14;break}return e.next=12,t.props.GET_TOP_CUSTOMER_ACTION(t.props.top_customer_year,"False");case 12:e.next=16;break;case 14:return e.next=16,t.props.GET_TOP_CUSTOMER_ACTION(t.props.top_customer_year,"True");case 16:case"end":return e.stop()}}),e)}))),t}return Object(c.a)(n,[{key:"render",value:function(){return!0===this.state.redirect?Object(g.jsx)(h.a,{to:"/login"}):(console.log(this.props.token),Object(g.jsxs)(_.a,{header_title:"Dashboard",children:[Object(g.jsx)(m.a,{}),this.state.spinner?Object(g.jsx)(y.a,{spinner:this.state.spinner}):Object(g.jsxs)("div",{children:[Object(g.jsx)(J,{product_series:this.props.product_series,product_month:this.props.product_month,depot_month:this.props.depot_month,selection_dates:this.props.selection_dates,dashboard_metric:this.props.dashboard_metric,currency_type:this.props.currency_type,product_month_year:this.props.product_month_year,depot_month_month:this.props.depot_month_month,depot_month_year:this.props.depot_month_year,update_product_series:this.props.update_product_series,update_product_month:this.props.update_product_month,update_depot_month:this.props.update_depot_month}),Object(g.jsx)(W,{dashboard_metric:this.props.dashboard_metric,top_customer:this.props.top_customer,top_customer_month:this.props.top_customer_month,top_customer_year:this.props.top_customer_year,product_top_customer:this.props.product_top_customer,top_customer_product:this.props.top_customer_product,update_top_customer:this.props.update_top_customer})]})]}))}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.token,r=t.top_customer,a=t.depot_month,c=(t.depot_product_month,t.product_series),o=t.product_month;return void 0===n||null===n?(e.redirect=!0,e):void 0!==r&&void 0!==a&&void 0!==o&&void 0!==c?(e.spinner=!1,e):(e.spinner=!0,e)}}]),n}(p.a.Component),Z={GET_TOP_CUSTOMER_ACTION:P.s,GET_DEPOT_MONTH_ACTION:P.h,GET_PRODUCT_SERIES_ACTION:P.n,GET_PRODUCT_MONTH_ACTION:P.m};e.default=Object(d.b)((function(t){return{token:t.auth_reducer.token,top_customer:t.list_reducer.top_customer,update_top_customer:t.list_reducer.update_top_customer,depot_month:t.list_reducer.depot_month,update_depot_month:t.list_reducer.update_depot_month,depot_product_month:t.list_reducer.depot_product_month,product_series:t.list_reducer.product_series,update_product_series:t.list_reducer.update_product_series,product_month:t.list_reducer.product_month,update_product_month:t.list_reducer.update_product_month,product_top_customer:t.list_reducer.product_top_customer,dashboard_metric:t.update_reducer.dashboard_metric,selection_dates:t.update_reducer.selection_dates,currency_type:t.update_reducer.currency_type,product_month_year:t.update_reducer.product_month_year,depot_month_month:t.update_reducer.depot_month_month,depot_month_year:t.update_reducer.depot_month_year,top_customer_month:t.update_reducer.top_customer_month,top_customer_year:t.update_reducer.top_customer_year,top_customer_product:t.update_reducer.top_customer_product}}),Z)(X)},64:function(t,e,n){"use strict";n.d(e,"q",(function(){return A})),n.d(e,"r",(function(){return I})),n.d(e,"U",(function(){return E})),n.d(e,"s",(function(){return P})),n.d(e,"P",(function(){return R})),n.d(e,"e",(function(){return M})),n.d(e,"d",(function(){return U})),n.d(e,"c",(function(){return F})),n.d(e,"u",(function(){return z})),n.d(e,"a",(function(){return L})),n.d(e,"b",(function(){return G})),n.d(e,"g",(function(){return Y})),n.d(e,"h",(function(){return H})),n.d(e,"C",(function(){return K})),n.d(e,"i",(function(){return J})),n.d(e,"F",(function(){return B})),n.d(e,"k",(function(){return Q})),n.d(e,"I",(function(){return q})),n.d(e,"j",(function(){return V})),n.d(e,"f",(function(){return W})),n.d(e,"z",(function(){return X})),n.d(e,"n",(function(){return Z})),n.d(e,"M",(function(){return $})),n.d(e,"m",(function(){return tt})),n.d(e,"K",(function(){return et})),n.d(e,"o",(function(){return nt})),n.d(e,"l",(function(){return rt})),n.d(e,"p",(function(){return at})),n.d(e,"J",(function(){return ct})),n.d(e,"t",(function(){return ot})),n.d(e,"T",(function(){return st})),n.d(e,"x",(function(){return it})),n.d(e,"O",(function(){return ut})),n.d(e,"v",(function(){return lt})),n.d(e,"L",(function(){return pt})),n.d(e,"D",(function(){return dt})),n.d(e,"E",(function(){return ht})),n.d(e,"H",(function(){return mt})),n.d(e,"G",(function(){return _t})),n.d(e,"y",(function(){return jt})),n.d(e,"Q",(function(){return bt})),n.d(e,"S",(function(){return ft})),n.d(e,"R",(function(){return Ot})),n.d(e,"A",(function(){return xt})),n.d(e,"B",(function(){return yt})),n.d(e,"N",(function(){return vt})),n.d(e,"w",(function(){return gt}));var r=n(60),a=n(61),c=n.n(a),o=n(71);function s(t,e){return i.apply(this,arguments)}function i(){return(i=Object(r.a)(c.a.mark((function t(e,n){var r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(o.b,"/accounts/get-token/"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e,password:n})});case 3:return r=t.sent,t.next=6,r.json();case 6:return a=t.sent,r=null,t.abrupt("return",a);case 11:throw t.prev=11,t.t0=t.catch(0),console.log(t.t0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}var u=n(83),l=n(84),p=n(73);function d(t,e){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(p.a)("/customer/top/month/1/?year=".concat(e,"&month=").concat(n)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(){return _.apply(this,arguments)}function _(){return(_=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(p.a)("/customer/",!0));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t){return b.apply(this,arguments)}function b(){return(b=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(p.a)("/customer/".concat(e,"/")));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t,e){return O.apply(this,arguments)}function O(){return(O=Object(r.a)(c.a.mark((function t(e,n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={code:e,name:n},t.abrupt("return",Object(p.b)("/customer/",r));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t,e,n,r){return y.apply(this,arguments)}function y(){return(y=Object(r.a)(c.a.mark((function t(e,n,r,a){var o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={customer:e,plate_no:n,first_name:r,last_name:a},t.abrupt("return",Object(p.b)("/customer/trucks/",o));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t,e){return g.apply(this,arguments)}function g(){return(g=Object(r.a)(c.a.mark((function t(e,n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={depot:e,customer:n},t.abrupt("return",Object(p.b)("/customer/add/",r));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var C=n(1);function T(t,e){return w.apply(this,arguments)}function w(){return(w=Object(r.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Date(e),e="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()),n=new Date(n),n="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),t.abrupt("return",Object(p.a)("/sales/?start_date=".concat(e,"&end_date=").concat(n)));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(t,e,n,r,a,c,o,s,i,u,l,p,d,h){return N.apply(this,arguments)}function N(){return(N=Object(r.a)(c.a.mark((function t(e,n,r,a,o,s,i,u,l,d,h,m,_,j){var b;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Date(e),e="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()),n=new Date(n),n="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),b={product:r,lpo_no:a,customer:o,truck:s,depot:i,entry_no:u,order_no:l,date:d,vol_obs:h,vol_20:m,selling_price:_,is_paid:j},t.abrupt("return",Object(p.b)("/sales/?start_date=".concat(e,"&end_date=").concat(n),b));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t,e){return k.apply(this,arguments)}function k(){return(k=Object(r.a)(c.a.mark((function t(e,n){var r,a,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(r=new FormData).append("file",e),t.next=5,fetch("".concat(o.b,"/sales/").concat(n,"/upload/"),{method:"POST",headers:{},body:r});case 5:return a=t.sent,t.next=8,a.json();case 8:return s=t.sent,a=null,t.abrupt("return",s);case 13:throw t.prev=13,t.t0=t.catch(0),console.log(t.t0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}var A=function(t,e){return function(){var n=Object(r.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s(t,e).then((function(t){if(void 0!==t.token)r({type:C.o,payload:t});else try{var e=t.non_field_errors;r({type:C.p,payload:{"":e}})}catch(n){r({type:C.p,payload:t})}})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},I=function(){return function(t){t({type:C.q,payload:null})}},E=function(){return function(t){t({type:C.S,payload:null})}},P=function(t,e){return function(){var n=Object(r.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d(t,e).then((function(t){r({type:C.r,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},R=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:C.M,payload:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},M=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m().then((function(t){e({type:C.c,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},U=function(t){return function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t).then((function(t){n({type:C.b,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F=function(t,e){return function(){var n=Object(r.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f(t,e).then((function(t){r({type:C.c,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},z=function(t,e,n,a){return function(){var o=Object(r.a)(c.a.mark((function r(o){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x(t,e,n,a).then((function(t){o({type:C.c,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return r.stop()}}),r)})));return function(t){return o.apply(this,arguments)}}()},L=function(t,e){return function(){var n=Object(r.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v(t,e).then((function(t){r({type:C.a,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},G=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:C.a,payload:void 0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Y=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.b)().then((function(t){e({type:C.e,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},H=function(t){return function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.c)(t).then((function(t){n({type:C.f,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},K=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:C.z,payload:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},J=function(t){return function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.d)(t).then((function(t){n({type:C.g,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},B=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:C.C,payload:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Q=function(t,e,n){return function(){var a=Object(r.a)(c.a.mark((function r(a){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(u.f)(t,e,n).then((function(t){a({type:C.i,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return r.stop()}}),r)})));return function(t){return a.apply(this,arguments)}}()},q=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:C.F,payload:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},V=function(t,e,n){return function(){var a=Object(r.a)(c.a.mark((function r(a){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(u.e)(t,e,n).then((function(t){a({type:C.h,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return r.stop()}}),r)})));return function(t){return a.apply(this,arguments)}}()},W=function(t,e,n){return function(){var a=Object(r.a)(c.a.mark((function r(a){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(u.a)(t,e,n).then((function(t){a({type:C.d,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return r.stop()}}),r)})));return function(t){return a.apply(this,arguments)}}()},X=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:C.w,payload:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Z=function(t,e){return function(){var n=Object(r.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.c)(t,e).then((function(t){r({type:C.l,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},$=function(){return function(t){t({type:C.J,payload:!0})}},tt=function(t){return function(){var e=Object(r.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.b)(t).then((function(t){n({type:C.k,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},et=function(){return function(t){t({type:C.H,payload:!0})}},nt=function(t,e){return function(){var n=Object(r.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.d)(t,e).then((function(t){r({type:C.m,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},rt=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.a)().then((function(t){e({type:C.j,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},at=function(t,e){return function(){var n=Object(r.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,T(t,e).then((function(t){r({type:C.n,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},ct=function(){return function(){var t=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e({type:C.G,payload:!0});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ot=function(t,e,n,a,o,s,i,u,l,p,d,h,m,_){return function(){var j=Object(r.a)(c.a.mark((function r(j){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,D(t,e,n,a,o,s,i,u,l,p,d,h,m,_).then((function(t){j({type:C.n,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return r.stop()}}),r)})));return function(t){return j.apply(this,arguments)}}()},st=function(t,e){return function(){var n=Object(r.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S(t,e).then((function(t){"success"===t.status?r({type:C.Q,payload:t}):r({type:C.R,payload:t})})).catch((function(t){console.log(t)}));case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()},it=function(t){return function(e){e({type:C.u,payload:t})}},ut=function(t){return function(e){e({type:C.L,payload:t})}},lt=function(t){return function(e){e({type:C.s,payload:t})}},pt=function(t){return function(e){e({type:C.I,payload:t})}},dt=function(t){return function(e){e({type:C.A,payload:t})}},ht=function(t){return function(e){e({type:C.B,payload:t})}},mt=function(t){return function(e){e({type:C.E,payload:t})}},_t=function(t){return function(e){e({type:C.D,payload:t})}},jt=function(t){return function(e){e({type:C.v,payload:t})}},bt=function(t){return function(e){e({type:C.N,payload:t})}},ft=function(t){return function(e){e({type:C.P,payload:t})}},Ot=function(t){return function(e){e({type:C.O,payload:t})}},xt=function(t){return function(e){e({type:C.x,payload:t})}},yt=function(t){return function(e){e({type:C.y,payload:t})}},vt=function(t){return function(e){e({type:C.K,payload:t})}},gt=function(t){return function(e){e({type:C.t,payload:t})}}},71:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));var r=location.protocol+"//"+location.host,a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},73:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return u}));var r=n(60),a=n(61),c=n.n(a),o=n(71),s=n(31),i=(n(64),function(){var t=Object(r.a)(c.a.mark((function t(e){var n,r,a,i,u=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=s.a.getState().auth_reducer.token,t.prev=2,t.next=5,fetch("".concat(o.b).concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(r.token)}});case 5:return a=t.sent,t.next=8,a.json();case 8:return i=t.sent,!1===r.is_staff&&!1===n&&(i=i.filter((function(t){return t.name===r.depot}))),a=null,t.abrupt("return",i);case 14:throw t.prev=14,t.t0=t.catch(2),console.log(t.t0),t.t0;case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}()),u=function(){var t=Object(r.a)(c.a.mark((function t(e,n){var r,a,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.a.getState().auth_reducer.token,t.prev=1,t.next=4,fetch("".concat(o.b).concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(r.token)},body:JSON.stringify(n)});case 4:return a=t.sent,t.next=7,a.json();case 7:return i=t.sent,a=null,t.abrupt("return",i);case 12:throw t.prev=12,t.t0=t.catch(1),console.log(t.t0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,n){return t.apply(this,arguments)}}()},76:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c}));var r=function(t,e){return t.setMonth(t.getMonth()+e),t},a=function(t){return"Million"===t?"m":"k"},c=function(t){return parseFloat(t.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0])}},83:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return p})),n.d(e,"f",(function(){return h})),n.d(e,"e",(function(){return _})),n.d(e,"a",(function(){return b}));var r=n(60),a=n(61),c=n.n(a),o=n(73);function s(){return i.apply(this,arguments)}function i(){return(i=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("/depot/"));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(t){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("/depot/month/?year=".concat(e)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("/product/depot/month/?year=".concat(e)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t,e,n){return m.apply(this,arguments)}function m(){return(m=Object(r.a)(c.a.mark((function t(e,n,r){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"object"!==typeof n&&"object"!==typeof r&&(n=new Date(n),r=new Date(r)),n="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),r="".concat(r.getFullYear(),"-").concat(r.getMonth()+1,"-").concat(r.getDate()),a=Object(o.a)("/depot/series/".concat(e,"/?start_date=").concat(n,"&end_date=").concat(r),!0),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t,e,n){return j.apply(this,arguments)}function j(){return(j=Object(r.a)(c.a.mark((function t(e,n,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"object"!==typeof n&&"object"!==typeof r&&(n=new Date(n),r=new Date(r)),n="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),r="".concat(r.getFullYear(),"-").concat(r.getMonth()+1,"-").concat(r.getDate()),t.abrupt("return",Object(o.a)("/depot/product/series/".concat(e,"/?start_date=").concat(n,"&end_date=").concat(r),!0));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t,e,n){return f.apply(this,arguments)}function f(){return(f=Object(r.a)(c.a.mark((function t(e,n,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("/depot/customer/".concat(e,"/?year=").concat(n,"&month=").concat(r),!0));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},84:function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return p})),n.d(e,"a",(function(){return h}));var r=n(60),a=n(61),c=n.n(a),o=n(73);function s(t,e){return i.apply(this,arguments)}function i(){return(i=Object(r.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"object"!==typeof e&&"object"!==typeof n&&(e=new Date(e),n=new Date(n)),e="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()),n="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()),t.abrupt("return",Object(o.a)("/product/series/?start_date=".concat(e,"&end_date=").concat(n)));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(t){return l.apply(this,arguments)}function l(){return(l=Object(r.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("/product/month/?year=".concat(e)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t,e){return d.apply(this,arguments)}function d(){return(d=Object(r.a)(c.a.mark((function t(e,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("/product/customer/top/?year=".concat(e,"&month=").concat(n)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(){return m.apply(this,arguments)}function m(){return(m=Object(r.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o.a)("/product/",!0));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},91:function(t,e,n){"use strict";var r=n(12),a=n(13),c=n(14),o=n(15),s=n(0),i=n.n(s),u=n(409),l=n(410),p=n(25),d=n(81),h=n(2),m=n(29),_=n(60),j=n(61),b=n.n(j),f=n(414),O=n(125),x=n(64),y=n(3),v=function(t){Object(c.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={currency_type:t.props.currency_type},t.handleCurrencyTypeChange=function(){var e=Object(_.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.props.UPDATE_CURRENCY_TYPE_ACTION(n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t}return Object(a.a)(n,[{key:"render",value:function(){var t=this;return Object(y.jsxs)("div",{className:"header",children:[Object(y.jsx)("h5",{children:this.props.header_title}),Object(y.jsxs)("div",{className:"header__left",children:[Object(y.jsx)("div",{children:Object(y.jsx)(l.a,{variant:"secondary",size:"sm",style:{marginRight:10},onClick:function(){return window.location.reload()},children:Object(y.jsx)(O.a,{color:"green"})})}),Object(y.jsx)(f.a.Group,{className:"header__currency",controlId:"exampleForm.ControlInput1",children:Object(y.jsxs)(f.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(e){return t.handleCurrencyTypeChange(e.target.value)},children:[Object(y.jsx)("option",{children:this.state.currency_type}),["Million","Thousand"].map((function(e,n){return t.state.currency_type===e?null:Object(y.jsx)("option",{value:e,children:e},n)}))]})}),Object(y.jsxs)(l.a,{variant:"secondary",size:"sm",children:[this.props.first_name[0],this.props.last_name[0]]}),Object(y.jsxs)("p",{className:"header__header-name",children:[this.props.first_name," ",this.props.last_name]})]})]})}}]),n}(i.a.Component);v.getDerivedStateFromProps=function(){var t=Object(_.a)(b.a.mark((function t(e,n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.currency_type=e.currency_type,t.abrupt("return",n);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();var g={UPDATE_CURRENCY_TYPE_ACTION:x.v},C=Object(p.b)((function(t){return{currency_type:t.update_reducer.currency_type}}),g)(v),T=n(71),w=function(t){Object(c.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={redirect:!1},t.handleLogOut=function(){t.props.USER_LOGGED_OUT_ACTION(),t.setState({redirect:!0})},t}return Object(a.a)(n,[{key:"render",value:function(){return this.state.redirect?Object(y.jsx)(h.a,{to:"/login"}):Object(y.jsxs)(u.a,{fluid:!0,className:"layout_main",children:[Object(y.jsxs)("div",{className:"layout_main__side",children:[Object(y.jsx)(m.b,{to:"/",className:"layout_main__logo",children:Object(y.jsx)("img",{src:"".concat(T.b,"/static/opl_logo.png"),alt:"logo",className:"layout_main__logo--img"})}),Object(y.jsxs)("div",{className:"layout_main__links",children:[!0===this.props.token.is_staff?Object(y.jsx)(m.c,{to:"/",className:"layout_main__button",children:Object(y.jsxs)("h6",{children:[Object(y.jsx)("span",{className:"layout_main__links--span",children:Object(y.jsx)(d.d,{size:20,color:"#D04D30"})}),"Dashboard"]})}):null,Object(y.jsx)(m.c,{to:"/depots",className:"layout_main__button",children:Object(y.jsxs)("h6",{children:[Object(y.jsx)("span",{className:"layout_main__links--span",children:Object(y.jsx)(d.a,{})}),"Depots"]})}),!0===this.props.token.is_staff?Object(y.jsx)(m.c,{to:"/sale",className:"layout_main__button",children:Object(y.jsxs)("h6",{children:[Object(y.jsx)("span",{className:"layout_main__links--span",children:Object(y.jsx)(d.i,{})}),"Sales"]})}):null,!0===this.props.token.is_staff?Object(y.jsx)(m.c,{to:"/customers",className:"layout_main__button",children:Object(y.jsxs)("h6",{children:[Object(y.jsx)("span",{className:"layout_main__links--span",children:Object(y.jsx)(d.j,{})}),"Customers"]})}):null,Object(y.jsx)(l.a,{variant:"transparent",className:"layout_main__button layout_main__logout",onClick:this.handleLogOut,children:Object(y.jsxs)("h6",{children:[Object(y.jsx)("span",{className:"layout_main__links--span",children:Object(y.jsx)(d.f,{})}),"Log Out"]})})]})]}),Object(y.jsxs)("div",{className:"layout_main__component",children:[Object(y.jsx)(C,{header_title:this.props.header_title,first_name:this.props.token.data.first_name,last_name:this.props.token.data.last_name}),this.props.children]})]})}}]),n}(i.a.Component),D={USER_LOGGED_OUT_ACTION:x.U};e.a=Object(p.b)((function(t){return{token:t.auth_reducer.token}}),D)(w)}}]);
//# sourceMappingURL=12.71c10faf.chunk.js.map