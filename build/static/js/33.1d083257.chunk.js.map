{"version":3,"sources":["components/utils/select/depot_select.js"],"names":["DepotSelect","state","depot","handleDepotChange","index","a","id","props","depots","parseInt","UPDATE_DEPOT_SERIES_ACTION","UPDATE_DEPOT_ACTION","GET_DEPOT_SERIES_ACTION","selection_dates","startDate","endDate","GET_DEPOT_PRODUCT_SERIES_ACTION","GET_DEPOT_CUSTOMER_ACTION","depot_customer_year","depot_customer_month","this","className","Group","controlId","Label","Select","size","onChange","e","target","value","name","map","idx","React","Component","getDerivedStateFromProps","undefined","mapDispatchToProps","connect","list_reducer","depot_list","update_reducer"],"mappings":"mOASMA,E,4MACFC,MAAQ,CACJC,MAAO,M,EAeXC,kB,uCAAoB,WAAOC,GAAP,eAAAC,EAAA,6DACZC,EAAK,EAAKC,MAAMC,OAAOC,SAASL,IAAQE,GAD5B,SAEV,EAAKC,MAAMG,6BAFD,uBAGV,EAAKH,MAAMI,oBAAoBP,GAHrB,uBAIV,EAAKG,MAAMK,wBAAwBN,EAAI,EAAKC,MAAMM,gBAAgBC,UAAW,EAAKP,MAAMM,gBAAgBE,SAJ9F,uBAKV,EAAKR,MAAMS,gCAAgCV,EAAI,EAAKC,MAAMM,gBAAgBC,UAAW,EAAKP,MAAMM,gBAAgBE,SALtG,wBAMV,EAAKR,MAAMU,0BAA0BX,EAAI,EAAKC,MAAMW,oBAAqB,EAAKX,MAAMY,sBAN1E,4C,kGASpB,WAAU,IAAD,OACCX,EAASY,KAAKb,MAAMC,OAE1B,OACI,qBAAKa,UAAU,aAAf,SACI,eAAC,IAAKC,MAAN,CAAYD,UAAU,yBAAyBE,UAAU,4BAAzD,UACI,cAAC,IAAKC,MAAN,oBACA,eAAC,IAAKC,OAAN,CAAa,aAAW,yBAAyBC,KAAK,KAAKC,SAAU,SAACC,GAAD,OAAO,EAAKzB,kBAAkByB,EAAEC,OAAOC,QAA5G,UACI,wBAAQA,MAAOV,KAAKnB,MAAMC,MAA1B,SAAkCM,EAAOC,SAASW,KAAKnB,MAAMC,QAAQ6B,OACpEvB,EAAOwB,KAAI,SAAC9B,EAAO+B,GAAR,OACR,EAAKhC,MAAMC,QAAU+B,EAAM,KAAO,wBAAkBH,MAAOG,EAAzB,SAA+B/B,EAAM6B,MAAxBE,kB,GApCjDC,IAAMC,WAA1BnC,EAKKoC,yBAA2B,SAAC7B,EAAON,GACtC,OAAoB,OAAhBA,EAAMC,YAAkCmC,IAAhB9B,EAAML,OAC9BD,EAAMC,MAAQ,EACPD,IAEPA,EAAMC,MAAQO,SAASF,EAAML,OACtBD,IAoCnB,IAUMqC,EAAqB,CACvB3B,wBACAC,4BAAyBI,oCAAiCC,8BAC1DP,gCAGW6B,uBAhBS,SAAAtC,GACpB,MAAO,CACHO,OAAQP,EAAMuC,aAAaC,WAC3BvC,MAAOD,EAAMyC,eAAexC,MAC5BW,gBAAiBZ,EAAMyC,eAAe7B,gBACtCK,oBAAqBjB,EAAMyC,eAAexB,oBAC1CC,qBAAsBlB,EAAMyC,eAAevB,wBAY/CmB,EAFWC,CAGbvC","file":"static/js/33.1d083257.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Form } from \"react-bootstrap\"\r\nimport { connect } from \"react-redux\"\r\nimport {\r\n    UPDATE_DEPOT_ACTION,\r\n    GET_DEPOT_SERIES_ACTION, GET_DEPOT_PRODUCT_SERIES_ACTION, GET_DEPOT_CUSTOMER_ACTION, UPDATE_DEPOT_SERIES_ACTION,\r\n} from \"../../../redux/actions/actions\"\r\n\r\n\r\nclass DepotSelect extends React.Component {\r\n    state = {\r\n        depot: null,\r\n    }\r\n\r\n    static getDerivedStateFromProps = (props, state) => {\r\n        if (state.depot === null || props.depot === undefined) {\r\n            state.depot = 0\r\n            return state\r\n        } else {\r\n            state.depot = parseInt(props.depot)\r\n            return state\r\n        }\r\n        return null\r\n\r\n    }\r\n\r\n    handleDepotChange = async (index) => {\r\n        let id = this.props.depots[parseInt(index)].id\r\n        await this.props.UPDATE_DEPOT_SERIES_ACTION()\r\n        await this.props.UPDATE_DEPOT_ACTION(index)\r\n        await this.props.GET_DEPOT_SERIES_ACTION(id, this.props.selection_dates.startDate, this.props.selection_dates.endDate)\r\n        await this.props.GET_DEPOT_PRODUCT_SERIES_ACTION(id, this.props.selection_dates.startDate, this.props.selection_dates.endDate)\r\n        await this.props.GET_DEPOT_CUSTOMER_ACTION(id, this.props.depot_customer_year, this.props.depot_customer_month)\r\n    }\r\n\r\n    render() {\r\n        const depots = this.props.depots\r\n\r\n        return (\r\n            <div className=\"pie-select\">\r\n                <Form.Group className=\"mb-4 pie-select__child\" controlId=\"exampleForm.ControlInput1\">\r\n                    <Form.Label>Depot</Form.Label>\r\n                    <Form.Select aria-label=\"Default select example\" size='sm' onChange={(e) => this.handleDepotChange(e.target.value)}>\r\n                        <option value={this.state.depot}>{depots[parseInt(this.state.depot)].name}</option>\r\n                        {depots.map((depot, idx) =>\r\n                            this.state.depot === idx ? null : <option key={idx} value={idx}>{depot.name}</option>\r\n                        )}\r\n\r\n                    </Form.Select>\r\n                </Form.Group>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        depots: state.list_reducer.depot_list,\r\n        depot: state.update_reducer.depot,\r\n        selection_dates: state.update_reducer.selection_dates,\r\n        depot_customer_year: state.update_reducer.depot_customer_year,\r\n        depot_customer_month: state.update_reducer.depot_customer_month,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    UPDATE_DEPOT_ACTION,\r\n    GET_DEPOT_SERIES_ACTION, GET_DEPOT_PRODUCT_SERIES_ACTION, GET_DEPOT_CUSTOMER_ACTION,\r\n    UPDATE_DEPOT_SERIES_ACTION,\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(DepotSelect);\r\n"],"sourceRoot":""}