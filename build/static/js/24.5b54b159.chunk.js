(this.webpackJsonpopl_frontend=this.webpackJsonpopl_frontend||[]).push([[24],{289:function(t,e,n){"use strict";n.r(e);var a=n(12),i=n(13),s=n(14),r=n(15),o=n(0),c=n.n(o),u=n(88),d=n.n(u),p=n(124),l=n.n(p),h=n(75),m=n(26),y=n(3),f=function(t,e,n){for(var a=[],i=0;i<t.length;i++)a.push([new Date(t[i].date).getTime(),"Million"===n?Object(h.c)((e?t[i].sum:t[i].quantity)/1e6):Object(h.c)((e?t[i].sum:t[i].quantity)/1e3)]);return a},b=function(t){Object(s.a)(n,t);var e=Object(r.a)(n);function n(t){var i;return Object(a.a)(this,n),(i=e.call(this,t)).state={spinner:!1,series:[],currency_type:i.props.currency_type,selection_dates:i.props.selection_dates,options:{chart:{id:"area-datetime",type:"area",height:400,zoom:{autoScaleYaxis:!1}},title:{text:i.props.dashboard_metric?"Revenue":"Quantities"},annotations:{xaxis:[{x:new Date("".concat(i.props.selection_dates.startDate)).getTime(),borderColor:"#999",yAxisIndex:0}]},dataLabels:{enabled:!0},markers:{size:0,style:"hollow"},xaxis:{type:"datetime",tickAmount:5},yaxis:{title:{text:"Kshs (Millions)"},min:0},tooltip:{x:{format:"dd MMM yyyy"},y:{formatter:i.props.dashboard_metric?function(t){return"Kshs ".concat(t," Millions")}:function(t){return"".concat(t," Litres")}}}},selection:"one_month"},i}return Object(i.a)(n,[{key:"render",value:function(){try{l.a.exec("area-datetime","zoomX",new Date("".concat(this.state.selection_dates.startDate)).getTime(),new Date("".concat(this.state.selection_dates.endDate)).getTime())}catch(t){}return Object(y.jsx)("div",{id:"chart",children:this.state.spinner?Object(y.jsx)("div",{style:{height:400,position:"relative"},children:Object(y.jsx)(m.a,{spinner:this.state.spinner})}):Object(y.jsx)("div",{id:"chart-timeline",children:Object(y.jsx)(d.a,{options:this.state.options,series:this.state.series,type:"area",height:400})})})}}]),n}(c.a.Component);b.getDerivedStateFromProps=function(t,e){var n=t.depot_series,a=t.update_product_series,i=t.dashboard_metric,s=t.selection_dates,r=t.currency_type;if(t.update_depot_series||a)return e.spinner=!0,e;e.spinner=!1;var o=n,c=[];return"string"===typeof s.startDate&&(s.startDate=new Date("".concat(s.startDate)),s.endDate=new Date("".concat(s.endDate))),c=c.concat({name:o.name,data:f(o.revenue,i,r)}),e.series=c,e.options.title.text=i?"Revenue":"Quantities",e.options.yaxis.title.text=i?"Kshs (".concat(r,")"):"Litres (".concat(r,")"),e.options.tooltip.y.formatter=i?function(t){return"Kshs ".concat(t).concat(Object(h.b)(r))}:function(t){return"".concat(t).concat(Object(h.b)(r)," Litres")},e.selection_dates=s,e.currency_type=r,e},e.default=b},75:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s}));var a=function(t,e){return t.setMonth(t.getMonth()+e),t},i=function(t){return"Million"===t?"m":"k"},s=function(t){return parseFloat(t.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0])}}}]);
//# sourceMappingURL=24.5b54b159.chunk.js.map