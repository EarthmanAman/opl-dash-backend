(this.webpackJsonpopl_frontend=this.webpackJsonpopl_frontend||[]).push([[23],{290:function(t,e,n){"use strict";n.r(e);var a=n(12),r=n(13),i=n(14),s=n(15),o=n(0),c=n.n(o),u=n(88),d=n.n(u),p=n(124),l=n.n(p),h=n(75),m=n(26),f=n(3),y=function(t,e,n){for(var a=[],r=0;r<t.length;r++)a.push([new Date(t[r].date).getTime(),"Million"===n?Object(h.c)((e?t[r].sum:t[r].quantity)/1e6):Object(h.c)((e?t[r].sum:t[r].quantity)/1e3)]);return a},b=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).state={spinner:!1,series:[],currency_type:r.props.currency_type,selection_dates:r.props.selection_dates,options:{chart:{id:"area-datetime",type:"area",height:400,zoom:{autoScaleYaxis:!1}},title:{text:r.props.dashboard_metric?"Revenue":"Quantities"},annotations:{xaxis:[{x:new Date("".concat(r.props.selection_dates.startDate)).getTime(),borderColor:"#999",yAxisIndex:0}]},dataLabels:{enabled:!0},markers:{size:0,style:"hollow"},xaxis:{type:"datetime",tickAmount:5},yaxis:{title:{text:"Kshs (Millions)"},min:0},tooltip:{x:{format:"dd MMM yyyy"},y:{formatter:r.props.dashboard_metric?function(t){return"Kshs ".concat(t," Millions")}:function(t){return"".concat(t," Litres")}}}},selection:"one_month"},r}return Object(r.a)(n,[{key:"render",value:function(){try{l.a.exec("area-datetime","zoomX",new Date("".concat(this.state.selection_dates.startDate)).getTime(),new Date("".concat(this.state.selection_dates.endDate)).getTime())}catch(t){}return Object(f.jsx)("div",{id:"chart",children:this.state.spinner?Object(f.jsx)("div",{style:{height:400,position:"relative"},children:Object(f.jsx)(m.a,{spinner:this.state.spinner})}):Object(f.jsx)("div",{id:"chart-timeline",children:Object(f.jsx)(d.a,{options:this.state.options,series:this.state.series,type:"area",height:400})})})}}]),n}(c.a.Component);b.getDerivedStateFromProps=function(t,e){var n=t.depot_product_series,a=t.update_product_series,r=t.selection_dates,i=t.currency_type,s=t.dashboard_metric;if(t.update_depot_series||a)return e.spinner=!0,e;e.spinner=!1;var o=n;o=o.revenue,"string"===typeof r.startDate&&(r.startDate=new Date("".concat(r.startDate)),r.endDate=new Date("".concat(r.endDate)));for(var c=[],u=0;u<o.length;u++){var d=o[u].data,p=y(d,s,i);c=c.concat({name:o[u].name,data:p})}return e.series=c,e.options.title.text=s?"Revenue":"Quantities",e.options.yaxis.title.text=s?"Kshs (".concat(i,")"):"Litres (".concat(i,")"),e.options.tooltip.y.formatter=s?function(t){return"Kshs ".concat(t).concat(Object(h.b)(i))}:function(t){return"".concat(t).concat(Object(h.b)(i)," Litres")},e.selection_dates=r,e.currency_type=i,e},e.default=b},75:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i}));var a=function(t,e){return t.setMonth(t.getMonth()+e),t},r=function(t){return"Million"===t?"m":"k"},i=function(t){return parseFloat(t.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0])}}}]);
//# sourceMappingURL=23.95bd31a9.chunk.js.map