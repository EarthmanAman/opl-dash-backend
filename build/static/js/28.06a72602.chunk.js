(this.webpackJsonpopl_frontend=this.webpackJsonpopl_frontend||[]).push([[28],{432:function(e,t,n){"use strict";n.r(t);var a=n(62),s=n(12),r=n(13),c=n(14),i=n(15),l=n(63),o=n.n(l),u=n(0),_=n.n(u),p=n(25),j=n(2),d=n(92),h=n(26),b=n(68),O=n(3),m=Object(u.lazy)((function(){return Promise.all([n.e(4),n.e(7),n.e(9)]).then(n.bind(null,258))})),f=Object(u.lazy)((function(){return Promise.all([n.e(3),n.e(10)]).then(n.bind(null,257))})),x=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={spinner:!1,redirect:!1,sales_date:e.props.sales_date},e.componentDidMount=Object(a.a)(o.a.mark((function t(){var n,a,s,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,a=n.sales_date,s=n.sales_list,r=n.token,void 0!==s&&null!==s){t.next=7;break}return e.setState({spinner:!0}),t.next=5,e.props.UPDATE_GET_SALES_LIST_ACTION();case 5:return t.next=7,e.props.GET_SALES_LIST_ACTION(r.depot,a.start_date,a.end_date);case 7:case"end":return t.stop()}}),t)}))),e}return Object(r.a)(n,[{key:"render",value:function(){return this.state.redirect?Object(O.jsx)(j.a,{to:"/login"}):Object(O.jsx)(d.a,{header_title:"Sales",children:this.state.spinner?Object(O.jsx)(h.a,{spinner:this.state.spinner}):Object(O.jsxs)("div",{children:[Object(O.jsx)(u.Suspense,{fallback:Object(O.jsx)(h.a,{spinner:!0}),children:Object(O.jsx)(f,{})}),Object(O.jsx)(u.Suspense,{fallback:Object(O.jsx)(h.a,{spinner:!0}),children:Object(O.jsx)(m,{sales_list:this.props.sales_list,from_customer:!1})})]})})}}]),n}(_.a.Component);x.getDerivedStateFromProps=function(){var e=Object(a.a)(o.a.mark((function e(t,n){var a,s,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.token,t.sales_list,s=t.sales_date,r=t.update_get_sales_list,void 0!==a&&null!==a){e.next=4;break}return n.redirect=!0,e.abrupt("return",n);case 4:if(!r){e.next=10;break}return n.spinner=!0,n.sales_date=s,e.abrupt("return",n);case 10:n.spinner=!1,n.redirect=!1;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var y={GET_SALES_LIST_ACTION:b.p,UPDATE_GET_SALES_LIST_ACTION:b.K};t.default=Object(p.b)((function(e){return{token:e.auth_reducer.token,sales_list:e.list_reducer.sales_list,update_get_sales_list:e.list_reducer.update_get_sales_list,sales_date:e.update_reducer.sales_date}}),y)(x)},92:function(e,t,n){"use strict";var a=n(12),s=n(13),r=n(14),c=n(15),i=n(0),l=n.n(i),o=n(428),u=n(429),_=n(25),p=n(84),j=n(2),d=n(29),h=n(62),b=n(63),O=n.n(b),m=n(436),f=n(112),x=n(68),y=n(3),v=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={currency_type:e.props.currency_type},e.handleCurrencyTypeChange=function(){var t=Object(h.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.UPDATE_CURRENCY_TYPE_ACTION(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{className:"header",children:[Object(y.jsx)("h5",{children:this.props.header_title}),Object(y.jsxs)("div",{className:"header__left",children:[Object(y.jsx)("div",{children:Object(y.jsx)(u.a,{variant:"secondary",size:"sm",style:{marginRight:10},onClick:function(){return window.location.reload()},children:Object(y.jsx)(f.a,{color:"green"})})}),Object(y.jsx)(m.a.Group,{className:"header__currency",controlId:"exampleForm.ControlInput1",children:Object(y.jsxs)(m.a.Select,{"aria-label":"Default select example",size:"sm",onChange:function(t){return e.handleCurrencyTypeChange(t.target.value)},children:[Object(y.jsx)("option",{children:this.state.currency_type}),["Million","Thousand"].map((function(t,n){return e.state.currency_type===t?null:Object(y.jsx)("option",{value:t,children:t},n)}))]})}),Object(y.jsxs)(u.a,{variant:"secondary",size:"sm",children:[this.props.first_name[0],this.props.last_name[0]]}),Object(y.jsxs)("p",{className:"header__header-name",children:[this.props.first_name," ",this.props.last_name]})]})]})}}]),n}(l.a.Component);v.getDerivedStateFromProps=function(){var e=Object(h.a)(O.a.mark((function e(t,n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.currency_type=t.currency_type,e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var k={UPDATE_CURRENCY_TYPE_ACTION:x.w},N=Object(_.b)((function(e){return{currency_type:e.update_reducer.currency_type}}),k)(v),g=n(79),T=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={redirect:!1},e.handleLogOut=function(){e.props.USER_LOGGED_OUT_ACTION(),e.setState({redirect:!0})},e}return Object(s.a)(n,[{key:"render",value:function(){return this.state.redirect?Object(y.jsx)(j.a,{to:"/login"}):Object(y.jsxs)(o.a,{fluid:!0,className:"layout_main",children:[Object(y.jsxs)("div",{className:"layout_main__side",children:[Object(y.jsx)(d.b,{to:"/",className:"layout_main__logo",children:Object(y.jsx)("img",{src:"".concat(g.b,"/static/opl_logo.png"),alt:"logo",className:"layout_main__logo--img"})}),Object(y.jsxs)("div",{className:"layout_main__links",children:[!0===this.props.token.is_staff?Object(y.jsx)(d.c,{to:"/",className:"layout_main__button",children:Object(y.jsxs)("h6",{children:[Object(y.jsx)("span",{className:"layout_main__links--span",children:Object(y.jsx)(p.d,{size:20,color:"#D04D30"})}),"Dashboard"]})}):null,Object(y.jsx)(d.c,{to:"/depots",className:"layout_main__button",children:Object(y.jsxs)("h6",{children:[Object(y.jsx)("span",{className:"layout_main__links--span",children:Object(y.jsx)(p.a,{})}),"Depots"]})}),Object(y.jsx)(d.c,{to:"/sale",className:"layout_main__button",children:Object(y.jsxs)("h6",{children:[Object(y.jsx)("span",{className:"layout_main__links--span",children:Object(y.jsx)(p.i,{})}),"Sales"]})}),!0===this.props.token.is_staff?Object(y.jsx)(d.c,{to:"/customers",className:"layout_main__button",children:Object(y.jsxs)("h6",{children:[Object(y.jsx)("span",{className:"layout_main__links--span",children:Object(y.jsx)(p.j,{})}),"Customers"]})}):null,Object(y.jsx)(u.a,{variant:"transparent",className:"layout_main__button layout_main__logout",onClick:this.handleLogOut,children:Object(y.jsxs)("h6",{children:[Object(y.jsx)("span",{className:"layout_main__links--span",children:Object(y.jsx)(p.f,{})}),"Log Out"]})})]})]}),Object(y.jsxs)("div",{className:"layout_main__component",children:[Object(y.jsx)(N,{header_title:this.props.header_title,first_name:this.props.token.data.first_name,last_name:this.props.token.data.last_name}),this.props.children]})]})}}]),n}(l.a.Component),C={USER_LOGGED_OUT_ACTION:x.W};t.a=Object(_.b)((function(e){return{token:e.auth_reducer.token}}),C)(T)}}]);
//# sourceMappingURL=28.06a72602.chunk.js.map