{"version":3,"file":"static/js/13.816d4c63.chunk.js","mappings":"wRAUMA,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GAAAA,SAAAA,IAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAAA,IAAAA,MAAAA,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,UAAAA,GAyBkB,OAzBlBA,EAAAA,EAAAA,KAAAA,MAAAA,EAAAA,CAAAA,MAAAA,OAAAA,KACFC,MAAQ,CACJC,SAAS,EACTC,UAAU,EACVC,WAAY,EAAKC,MAAMD,YAHnB,EAwBRE,mBAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAoB,2FACRF,EAAe,EAAKC,MAApBD,WACR,EAAKG,SAAS,CAAEL,SAAS,IAFT,SAGV,EAAKG,MAAMG,sBAAsBJ,EAAWK,WAAYL,EAAWM,UAHzD,6CAoBnB,OApBmB,8BAKpB,WACI,OAAIC,KAAKV,MAAME,UACJ,SAAC,KAAD,CAAUS,GAAI,YAIrB,SAAC,IAAD,CAAQC,aAAc,QAAtB,SACKF,KAAKV,MAAMC,SAAU,SAAC,IAAD,CAAkBA,QAASS,KAAKV,MAAMC,WACxD,4BACI,SAAC,IAAD,KACA,SAAC,IAAD,CAAYY,WAAYH,KAAKN,MAAMS,WAAYC,eAAe,aAKjF,EA7CCf,CAAkBgB,EAAAA,WAAlBhB,EAMKiB,yBAAAA,WAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAA2B,WAAOZ,EAAOJ,GAAd,8EACtBiB,EAAkCb,EAAlCa,MAAOJ,EAA2BT,EAA3BS,WAAYV,EAAeC,EAAfD,gBAEbe,IAAVD,GAAiC,OAAVA,EAHG,uBAI1BjB,EAAME,UAAW,EAJS,kBAKnBF,GALmB,UAO1BA,EAAMG,WAAWK,aAAeL,EAAWK,YAAcR,EAAMG,WAAWM,WAAaN,EAAWM,SAPxE,wBAQ1BT,EAAMC,SAAU,EAChBD,EAAMG,WAAaA,EATO,SAUpBC,EAAMG,sBAAsBJ,EAAWK,WAAYL,EAAWM,UAV1C,gCAWnBT,GAXmB,aAaNkB,IAAfL,IACLb,EAAMC,SAAU,EAChBD,EAAME,UAAW,GAfS,iCAiBvBF,GAjBuB,iGAA3BgB,GA0CX,IAQMG,EAAqB,CACvBZ,sBAAAA,EAAAA,IAGJ,WAAea,EAAAA,EAAAA,KAZS,SAAApB,GACpB,MAAO,CACHiB,MAAOjB,EAAMqB,aAAaJ,MAC1BJ,WAAYb,EAAMsB,aAAaT,WAC/BV,WAAYH,EAAMuB,eAAepB,cAUrCgB,EAFJ,CAGEpB","sources":["components/sales/index.js"],"sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Navigate } from 'react-router-dom';\r\nimport Layout from '../utils/layout'\r\nimport SpinnerComponent from \"../utils/spinner\"\r\n\r\nimport { GET_SALES_LIST_ACTION } from \"../../redux/actions/actions\"\r\nimport SalesTable from './sales_table';\r\nimport SalesDateSelector from './sales_date_selector';\r\n\r\nclass SalesPage extends React.Component {\r\n    state = {\r\n        spinner: false,\r\n        redirect: false,\r\n        sales_date: this.props.sales_date\r\n    }\r\n    static getDerivedStateFromProps = async (props, state) => {\r\n        const { token, sales_list, sales_date } = props\r\n\r\n        if (token === undefined || token === null) {\r\n            state.redirect = true\r\n            return state\r\n        }\r\n        if (state.sales_date.start_date !== sales_date.start_date || state.sales_date.end_date !== sales_date.end_date) {\r\n            state.spinner = true\r\n            state.sales_date = sales_date\r\n            await props.GET_SALES_LIST_ACTION(sales_date.start_date, sales_date.end_date)\r\n            return state\r\n        }\r\n        else if (sales_list !== undefined) {\r\n            state.spinner = false\r\n            state.redirect = false\r\n        }\r\n        return state\r\n    }\r\n    componentDidMount = async () => {\r\n        const { sales_date } = this.props\r\n        this.setState({ spinner: true })\r\n        await this.props.GET_SALES_LIST_ACTION(sales_date.start_date, sales_date.end_date)\r\n    }\r\n    render() {\r\n        if (this.state.redirect) {\r\n            return <Navigate to={\"/login\"} />\r\n        }\r\n\r\n        return (\r\n            <Layout header_title={\"Sales\"}>\r\n                {this.state.spinner ? <SpinnerComponent spinner={this.state.spinner} /> :\r\n                    <div>\r\n                        <SalesDateSelector />\r\n                        <SalesTable sales_list={this.props.sales_list} from_customer={false} />\r\n                    </div>}\r\n\r\n            </Layout>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        token: state.auth_reducer.token,\r\n        sales_list: state.list_reducer.sales_list,\r\n        sales_date: state.update_reducer.sales_date,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    GET_SALES_LIST_ACTION,\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(SalesPage);\r\n"],"names":["SalesPage","state","spinner","redirect","sales_date","props","componentDidMount","setState","GET_SALES_LIST_ACTION","start_date","end_date","this","to","header_title","sales_list","from_customer","React","getDerivedStateFromProps","token","undefined","mapDispatchToProps","connect","auth_reducer","list_reducer","update_reducer"],"sourceRoot":""}